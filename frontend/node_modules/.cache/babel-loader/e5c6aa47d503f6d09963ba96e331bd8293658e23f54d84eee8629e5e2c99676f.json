{"ast":null,"code":"import _objectSpread from\"/Volumes/\\u575E\\u57CE/OJ_1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{getUsers,getSchools,getMajors,getClasses,getDepartments,registerTeacher,updateUser,deleteUser,getAllCourses,createCourse,updateCourse,deleteCourse,createSchool,updateSchool,deleteSchool,createDepartment,updateDepartment,deleteDepartment,createMajor,updateMajor,deleteMajor,createClass,updateClass,deleteClass}from'../services/api';import'./AdminDashboardPage.css';import WhaleIcon from'../components/WhaleIcon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboardPage=()=>{var _schools$find,_departments$find,_majors$find;const[activeTab,setActiveTab]=useState('teachers');const[activeSubTab,setActiveSubTab]=useState('list');const[teachers,setTeachers]=useState([]);const[schools,setSchools]=useState([]);const[majors,setMajors]=useState([]);const[classes,setClasses]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// 编辑教师相关状态\nconst[editingTeacher,setEditingTeacher]=useState(null);const[editForm,setEditForm]=useState({email:'',phone:'',school_id:'',department_id:'',is_active:true,new_password:''});// 添加教师相关状态\nconst[addTeacherForm,setAddTeacherForm]=useState({job_no:'',name:'',password:'',email:'',phone:'',school_id:'',department_id:''});// 滚动动画相关状态\nconst[scrollAnimations,setScrollAnimations]=useState({formVisible:false,bottomFormVisible:false});// 课程相关状态\nconst[courses,setCourses]=useState([]);const[courseForm,setCourseForm]=useState({name:'',description:'',teacher_id:'',teaching_class_name:''});// 编辑课程状态\nconst[editingCourse,setEditingCourse]=useState(null);const[isEditingCourse,setIsEditingCourse]=useState(false);// 组织架构管理相关状态\nconst[departments,setDepartments]=useState([]);const[newSchoolForm,setNewSchoolForm]=useState({name:'',code:''});const[newDepartmentForm,setNewDepartmentForm]=useState({name:'',code:'',school_id:''});const[newMajorForm,setNewMajorForm]=useState({name:'',code:'',department_id:'',school_id:''});const[newClassForm,setNewClassForm]=useState({name:'',grade:'',major_id:'',department_id:''});const[editingSchool,setEditingSchool]=useState(null);const[editingDepartment,setEditingDepartment]=useState(null);const[editingMajor,setEditingMajor]=useState(null);const[editingClass,setEditingClass]=useState(null);// 查看院部下级组织\nconst[viewingDepartment,setViewingDepartment]=useState(null);const[isClosingModal,setIsClosingModal]=useState(false);const[addingClassForMajor,setAddingClassForMajor]=useState(null);// 平滑关闭模态框\nconst handleCloseModal=()=>{setIsClosingModal(true);setTimeout(()=>{setViewingDepartment(null);setIsClosingModal(false);setAddingClassForMajor(null);},250);// 与CSS动画时长匹配\n};// 为指定专业添加班级\nconst handleAddClassForMajor=major=>{setAddingClassForMajor(major);setNewClassForm({name:'',grade:'',major_id:major.id,department_id:viewingDepartment.id});};// 保存班级\nconst handleSaveClassForMajor=async()=>{if(!newClassForm.name.trim()){alert('请输入班级名称');return;}try{setLoading(true);await createClass(newClassForm);setSuccess('班级创建成功！');setAddingClassForMajor(null);setNewClassForm({name:'',grade:'',major_id:'',department_id:''});fetchInitialData();// 刷新数据\n}catch(error){var _error$response,_error$response$data;setError((error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'创建班级失败');}finally{setLoading(false);}};// 删除班级（从院部模态框）\nconst handleDeleteClassFromModal=async(classId,className)=>{if(!window.confirm(\"\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u73ED\\u7EA7\\\"\".concat(className,\"\\\"\\u5417\\uFF1F\\u6B64\\u64CD\\u4F5C\\u4E0D\\u53EF\\u6062\\u590D\\u3002\"))){return;}try{setLoading(true);await deleteClass(classId);setSuccess('班级删除成功！');fetchInitialData();// 刷新数据\n}catch(error){var _error$response2,_error$response2$data;setError((error===null||error===void 0?void 0:(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'删除班级失败');}finally{setLoading(false);}};useEffect(()=>{fetchInitialData();},[]);// 滚动监听和动画触发\nuseEffect(()=>{const handleScroll=()=>{const scrollY=window.scrollY;const windowHeight=window.innerHeight;const documentHeight=document.documentElement.scrollHeight;// 检测表单是否进入视口\nif(scrollY>100){setScrollAnimations(prev=>_objectSpread(_objectSpread({},prev),{},{formVisible:true}));}// 检测是否接近底部，触发底部表单动画\nif(scrollY+windowHeight>documentHeight-200){setScrollAnimations(prev=>_objectSpread(_objectSpread({},prev),{},{bottomFormVisible:true}));}};window.addEventListener('scroll',handleScroll);// 初始触发\nhandleScroll();return()=>window.removeEventListener('scroll',handleScroll);},[]);const fetchInitialData=async()=>{try{setLoading(true);setError('');setSuccess('');// 从真实API获取数据\ntry{const schoolsData=await getSchools();setSchools(schoolsData);console.log('从API获取的学校数据:',schoolsData);}catch(apiError){console.warn('API获取学校数据失败:',apiError);setSchools([]);}// 尝试从API获取教师数据\ntry{const teachersData=await getUsers(1,50,'teacher');setTeachers(teachersData.users);}catch(apiError){console.warn('API获取教师数据失败:',apiError);setTeachers([]);}// 尝试从API获取课程数据\ntry{const coursesData=await getAllCourses(1,50);setCourses(coursesData.courses||[]);}catch(apiError){console.warn('API获取课程数据失败:',apiError);setCourses([]);}// 组织数据用于组织架构管理（与课程创建分离）\ntry{const departmentsData=await getDepartments();setDepartments(departmentsData);console.log('从API获取的院部数据:',departmentsData);}catch(apiError){console.warn('API获取院部数据失败:',apiError);setDepartments([]);}try{const majorsData=await getMajors();setMajors(majorsData);console.log('从API获取的专业数据:',majorsData);}catch(apiError){console.warn('API获取专业数据失败:',apiError);setMajors([]);}try{const classesData=await getClasses();setClasses(classesData);console.log('从API获取的班级数据:',classesData);}catch(apiError){console.warn('API获取班级数据失败:',apiError);setClasses([]);}}catch(error){var _error$response3,_error$response3$data;setError((error===null||error===void 0?void 0:(_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'获取数据失败');console.error('Error fetching data:',error);}finally{setLoading(false);}};const handleSchoolChange=async schoolId=>{console.log('学校选择改变:',schoolId);setAddTeacherForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:schoolId,department_id:''}));if(schoolId){try{const departmentsData=await getDepartments(schoolId);setDepartments(departmentsData);console.log('从API获取的院部数据:',departmentsData);}catch(error){console.error('Error fetching departments:',error);setDepartments([]);}}else{setDepartments([]);}};// 课程相关处理函数\nconst handleCourseSchoolChange=async schoolId=>{setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:schoolId,department_id:'',major_id:'',class_id:''}));if(schoolId){try{const departmentsData=await getDepartments(schoolId);setDepartments(departmentsData);}catch(error){console.error('Error fetching departments:',error);}}else{setDepartments([]);}};const handleCourseDepartmentChange=async departmentId=>{setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{department_id:departmentId,major_id:'',class_id:''}));if(departmentId){try{const majorsData=await getMajors();// 过滤出属于该院部的专业\nconst filteredMajors=majorsData.filter(major=>major.department_id==departmentId&&major.school_id==courseForm.school_id);setMajors(filteredMajors);}catch(error){console.error('Error fetching majors:',error);}}else{setMajors([]);}};const handleCourseMajorChange=async majorId=>{setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{major_id:majorId,class_id:''}));if(majorId){try{const classesData=await getClasses(majorId);setClasses(classesData);}catch(error){console.error('Error fetching classes:',error);}}else{setClasses([]);}};const handleCreateCourse=async()=>{try{setLoading(true);setError('');setSuccess('');// 仅提交教学班名，不再强制依赖行政班\nconst submitData={name:courseForm.name,description:courseForm.description||'',teacher_id:courseForm.teacher_id,teaching_class_name:(courseForm.teaching_class_name||'').trim()||null};if(isEditingCourse&&editingCourse){await updateCourse(editingCourse.id,submitData);setSuccess('课程更新成功！');}else{await createCourse(submitData);setSuccess('课程创建成功！');}// 重置表单\nsetCourseForm({name:'',description:'',teacher_id:'',teaching_class_name:''});setIsEditingCourse(false);setEditingCourse(null);// 刷新课程列表\nconst coursesData=await getAllCourses(1,50);setCourses(coursesData.courses||[]);// 切换到课程列表\nsetActiveSubTab('list');}catch(error){var _error$response4,_error$response4$data;console.error('课程创建/更新失败:',error);setError(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||(isEditingCourse?'更新课程失败':'创建课程失败'));}finally{setLoading(false);}};const handleEditCourse=course=>{setEditingCourse(course);setCourseForm({name:course.name,description:course.description||'',teacher_id:course.teacher_id||'',teaching_class_name:course.teaching_class_name||course.display_class_name||''});setIsEditingCourse(true);setActiveSubTab('add');};const handleDeleteCourse=async courseId=>{if(!window.confirm('确定要删除该课程吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteCourse(courseId);setSuccess('课程已删除');// 刷新课程列表\nconst coursesData=await getAllCourses(1,50);setCourses(coursesData.courses||[]);}catch(error){var _error$response5,_error$response5$data;setError(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'删除课程失败');}finally{setLoading(false);}};const handleAddTeacher=async()=>{try{setLoading(true);setError('');setSuccess('');await registerTeacher(addTeacherForm);setSuccess('教师账号创建成功！');// 重置表单\nsetAddTeacherForm({job_no:'',name:'',password:'',email:'',phone:'',school_id:'',department_id:''});// 刷新教师列表\nconst teachersData=await getUsers(1,50,'teacher');setTeachers(teachersData.users);// 切换到教师列表\nsetActiveSubTab('list');}catch(error){var _error$response6,_error$response6$data;setError(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||'创建教师账号失败');}finally{setLoading(false);}};const handleEditTeacherClick=teacher=>{setEditingTeacher(teacher);setEditForm({email:teacher.email||'',phone:teacher.phone||'',school_id:teacher.school_id||'',department_id:teacher.department_id||'',is_active:!!teacher.is_active,new_password:''});setError('');setSuccess('');};const handleSaveTeacher=async()=>{if(!editingTeacher)return;try{setLoading(true);setError('');setSuccess('');await updateUser(editingTeacher.id,editForm);setSuccess('教师信息已更新');// 刷新列表\nconst teachersData=await getUsers(1,50,'teacher');setTeachers(teachersData.users);setEditingTeacher(null);}catch(error){var _error$response7,_error$response7$data;setError(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||'更新教师信息失败');}finally{setLoading(false);}};const handleCancelEditTeacher=()=>{setEditingTeacher(null);setEditForm({email:'',phone:'',school_id:'',department_id:'',is_active:true,new_password:''});};const handleDeleteTeacher=async userId=>{if(!window.confirm('确定要删除该教师吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteUser(userId);setSuccess('教师已删除');// 刷新教师列表\nconst teachersData=await getUsers(1,50,'teacher');setTeachers(teachersData.users);// 同时刷新课程列表，确保数据一致性\ntry{const coursesData=await getAllCourses(1,50);setCourses(coursesData.courses||[]);}catch(apiError){console.warn('刷新课程列表失败:',apiError);}}catch(error){var _error$response8,_error$response8$data;setError(((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.error)||'删除教师失败');}finally{setLoading(false);}};// 组织架构管理相关处理函数\n// 当编辑模态框打开时，初始化表单数据\nconst initializeEditForms=()=>{if(editingSchool){if(editingSchool.id){// 编辑模式\nsetNewSchoolForm({name:editingSchool.name,code:editingSchool.code||''});}else{// 添加模式\nsetNewSchoolForm({name:'',code:''});}}if(editingDepartment){if(editingDepartment.id){// 编辑模式\nsetNewDepartmentForm({name:editingDepartment.name,code:editingDepartment.code||'',school_id:editingDepartment.school_id||''});}else{// 添加模式 - 如果是从学校节点添加的，预填充学校ID\nsetNewDepartmentForm({name:'',code:'',school_id:editingDepartment.school_id||''});}}if(editingMajor){if(editingMajor.id){// 编辑模式\nsetNewMajorForm({name:editingMajor.name,code:editingMajor.code||'',department_id:editingMajor.department_id||'',school_id:editingMajor.school_id||''});}else{// 添加模式 - 如果是从院部节点添加的，预填充院部和学校ID\nsetNewMajorForm({name:'',code:'',department_id:editingMajor.department_id||'',school_id:editingMajor.school_id||''});}}if(editingClass){if(editingClass.id){// 编辑模式\nsetNewClassForm({name:editingClass.name,grade:editingClass.grade||'',major_id:editingClass.major_id||'',department_id:editingClass.department_id||''});}else{// 添加模式 - 如果是从专业节点添加的，预填充专业和院部ID\nsetNewClassForm({name:'',grade:'',major_id:editingClass.major_id||'',department_id:editingClass.department_id||''});}}};// 监听编辑状态变化，初始化表单\nuseEffect(()=>{initializeEditForms();},[editingSchool,editingDepartment,editingMajor,editingClass]);const handleSaveSchool=async()=>{try{setLoading(true);setError('');setSuccess('');if(editingSchool.id){// 更新学校\nawait updateSchool(editingSchool.id,newSchoolForm);setSuccess('学校更新成功！');}else{// 创建学校\nawait createSchool(newSchoolForm);setSuccess('学校创建成功！');}// 刷新学校列表\nconst schoolsData=await getSchools();setSchools(schoolsData);// 重置表单\nsetNewSchoolForm({name:'',code:''});setEditingSchool(null);}catch(error){var _error$response9,_error$response9$data;setError(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.error)||'保存学校失败');}finally{setLoading(false);}};const handleSaveDepartment=async()=>{try{setLoading(true);setError('');setSuccess('');if(editingDepartment.id){// 更新院部\nawait updateDepartment(editingDepartment.id,newDepartmentForm);setSuccess('院部更新成功！');}else{// 创建院部\nawait createDepartment(newDepartmentForm);setSuccess('院部创建成功！');}// 刷新院部列表\nconst departmentsData=await getDepartments();setDepartments(departmentsData);// 重置表单\nsetNewDepartmentForm({name:'',code:'',school_id:''});setEditingDepartment(null);}catch(error){var _error$response0,_error$response0$data;setError(((_error$response0=error.response)===null||_error$response0===void 0?void 0:(_error$response0$data=_error$response0.data)===null||_error$response0$data===void 0?void 0:_error$response0$data.error)||'保存院部失败');}finally{setLoading(false);}};const handleSaveMajor=async()=>{try{setLoading(true);setError('');setSuccess('');if(editingMajor.id){// 更新专业\nawait updateMajor(editingMajor.id,newMajorForm);setSuccess('专业更新成功！');}else{// 创建专业\nawait createMajor(newMajorForm);setSuccess('专业创建成功！');}// 刷新专业列表\nconst majorsData=await getMajors();setMajors(majorsData);// 重置表单\nsetNewMajorForm({name:'',code:'',department_id:'',school_id:''});setEditingMajor(null);}catch(error){var _error$response1,_error$response1$data;setError(((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.error)||'保存专业失败');}finally{setLoading(false);}};const handleSaveClass=async()=>{try{setLoading(true);setError('');setSuccess('');if(editingClass.id){// 更新班级\nawait updateClass(editingClass.id,newClassForm);setSuccess('班级更新成功！');}else{// 创建班级\nawait createClass(newClassForm);setSuccess('班级创建成功！');}// 刷新班级列表\nconst classesData=await getClasses();setClasses(classesData);// 重置表单\nsetNewClassForm({name:'',grade:'',major_id:'',department_id:''});setEditingClass(null);}catch(error){var _error$response10,_error$response10$dat;setError(((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.error)||'保存班级失败');}finally{setLoading(false);}};// 删除组织相关处理函数\nconst handleDeleteSchool=async schoolId=>{if(!window.confirm('确定要删除该学校吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteSchool(schoolId);setSuccess('学校删除成功！');// 刷新学校列表\nconst schoolsData=await getSchools();setSchools(schoolsData);}catch(error){var _error$response11,_error$response11$dat;setError(((_error$response11=error.response)===null||_error$response11===void 0?void 0:(_error$response11$dat=_error$response11.data)===null||_error$response11$dat===void 0?void 0:_error$response11$dat.error)||'删除学校失败');}finally{setLoading(false);}};const handleDeleteDepartment=async departmentId=>{if(!window.confirm('确定要删除该院部吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteDepartment(departmentId);setSuccess('院部删除成功！');// 刷新院部列表\nconst departmentsData=await getDepartments();setDepartments(departmentsData);}catch(error){var _error$response12,_error$response12$dat;setError(((_error$response12=error.response)===null||_error$response12===void 0?void 0:(_error$response12$dat=_error$response12.data)===null||_error$response12$dat===void 0?void 0:_error$response12$dat.error)||'删除院部失败');}finally{setLoading(false);}};const handleDeleteMajor=async majorId=>{if(!window.confirm('确定要删除该专业吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteMajor(majorId);setSuccess('专业删除成功！');// 刷新专业列表\nconst majorsData=await getMajors();setMajors(majorsData);}catch(error){var _error$response13,_error$response13$dat;setError(((_error$response13=error.response)===null||_error$response13===void 0?void 0:(_error$response13$dat=_error$response13.data)===null||_error$response13$dat===void 0?void 0:_error$response13$dat.error)||'删除专业失败');}finally{setLoading(false);}};const handleDeleteClass=async classId=>{if(!window.confirm('确定要删除该班级吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteClass(classId);setSuccess('班级删除成功！');// 刷新班级列表\nconst classesData=await getClasses();setClasses(classesData);}catch(error){var _error$response14,_error$response14$dat;setError(((_error$response14=error.response)===null||_error$response14===void 0?void 0:(_error$response14$dat=_error$response14.data)===null||_error$response14$dat===void 0?void 0:_error$response14$dat.error)||'删除班级失败');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\u7BA1\\u7406\\u5458\\u63A7\\u5236\\u53F0\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='teachers'?'active':''),onClick:()=>{setActiveTab('teachers');setActiveSubTab('list');// 清除课程相关状态\nsetEditingCourse(null);},children:\"\\u6559\\u5E08\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='courses'?'active':''),onClick:()=>{setActiveTab('courses');setActiveSubTab('list');// 清除教师相关状态\nsetEditingTeacher(null);},children:\"\\u8BFE\\u7A0B\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='organization'?'active':''),onClick:()=>{setActiveTab('organization');setActiveSubTab('schools');},children:\"\\u7EC4\\u7EC7\\u67B6\\u6784\\u7BA1\\u7406\"})]}),activeTab==='teachers'&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='list'?'active':''),onClick:()=>setActiveSubTab('list'),children:\"\\u6559\\u5E08\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='add'?'active':''),onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u6559\\u5E08\"})]}),activeSubTab==='list'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6559\\u5E08\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u6559\\u5E08\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"teachers-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u5DE5\\u53F7\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u90AE\\u7BB1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u5B66\\u6821\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u9662\\u90E8\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:teachers.map(teacher=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:teacher.id}),/*#__PURE__*/_jsx(\"td\",{children:teacher.username}),/*#__PURE__*/_jsx(\"td\",{children:teacher.name}),/*#__PURE__*/_jsx(\"td\",{children:teacher.email||'-'}),/*#__PURE__*/_jsx(\"td\",{children:teacher.school_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:teacher.department_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(teacher.is_active?'active':'inactive'),children:teacher.is_active?'活跃':'禁用'})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:()=>handleEditTeacherClick(teacher),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDeleteTeacher(teacher.id),children:\"\\u5220\\u9664\"})]})]},teacher.id))})]})})]}),activeSubTab==='add'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2795 \\u6DFB\\u52A0\\u6559\\u5E08\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"debug-btn\",onClick:()=>{console.log('当前状态:',{schools,departments,addTeacherForm});alert(\"\\u5B66\\u6821\\u6570\\u91CF: \".concat(schools.length,\"\\n\\u9662\\u90E8\\u6570\\u91CF: \").concat(departments.length,\"\\n\\u9009\\u62E9\\u7684\\u5B66\\u6821ID: \").concat(addTeacherForm.school_id));},children:\"\\uD83D\\uDC1B \\u8C03\\u8BD5\\u4FE1\\u606F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setActiveSubTab('list'),children:\"\\u2190 \\u8FD4\\u56DE\\u6559\\u5E08\\u5217\\u8868\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-teacher-form \".concat(scrollAnimations.formVisible?'form-visible':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u5DE5\\u53F7\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5DE5\\u53F7\",value:addTeacherForm.job_no,onChange:e=>setAddTeacherForm(prev=>_objectSpread(_objectSpread({},prev),{},{job_no:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u59D3\\u540D\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u6559\\u5E08\\u59D3\\u540D\",value:addTeacherForm.name,onChange:e=>setAddTeacherForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u5BC6\\u7801\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u521D\\u59CB\\u5BC6\\u7801\",value:addTeacherForm.password,onChange:e=>setAddTeacherForm(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u90AE\\u7BB1\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u90AE\\u7BB1\\u5730\\u5740\",value:addTeacherForm.email,onChange:e=>setAddTeacherForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u624B\\u673A\\u53F7\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\",value:addTeacherForm.phone,onChange:e=>setAddTeacherForm(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u5B66\\u6821\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:addTeacherForm.school_id,onChange:e=>handleSchoolChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(school=>/*#__PURE__*/_jsx(\"option\",{value:school.id,children:school.name},school.id))]}),/*#__PURE__*/_jsxs(\"small\",{children:[\"\\u53EF\\u7528\\u5B66\\u6821\\u6570\\u91CF: \",schools.length]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u9662\\u90E8\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:addTeacherForm.department_id,onChange:e=>setAddTeacherForm(prev=>_objectSpread(_objectSpread({},prev),{},{department_id:e.target.value})),disabled:!addTeacherForm.school_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u9662\\u90E8\"}),departments.map(department=>/*#__PURE__*/_jsx(\"option\",{value:department.id,children:department.name},department.id))]}),/*#__PURE__*/_jsxs(\"small\",{children:[\"\\u53EF\\u7528\\u9662\\u90E8\\u6570\\u91CF: \",departments.length,\" | \\u5B66\\u6821ID: \",addTeacherForm.school_id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\xA0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-help\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u6559\\u5E08\\u8D26\\u53F7\\u521B\\u5EFA\\u540E\\uFF0C\\u5DE5\\u53F7\\u3001\\u59D3\\u540D\\u3001\\u5B66\\u6821\\u3001\\u9662\\u90E8\\u4FE1\\u606F\\u4E0D\\u53EF\\u4FEE\\u6539\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u6559\\u5E08\\u53EA\\u80FD\\u4FEE\\u6539\\u81EA\\u5DF1\\u7684\\u5BC6\\u7801\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions \".concat(scrollAnimations.bottomFormVisible?'bottom-form-visible':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleAddTeacher,disabled:loading||!addTeacherForm.job_no||!addTeacherForm.name||!addTeacherForm.password||!addTeacherForm.school_id||!addTeacherForm.department_id,children:loading?'添加中...':'添加教师'})})]})]})]}),activeTab==='courses'&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='list'?'active':''),onClick:()=>setActiveSubTab('list'),children:\"\\u8BFE\\u7A0B\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='add'?'active':''),onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u8BFE\\u7A0B\"})]}),activeSubTab==='list'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u8BFE\\u7A0B\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u8BFE\\u7A0B\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"courses-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u8BFE\\u7A0B\\u540D\\u79F0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u63CF\\u8FF0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u6559\\u5E08\\u5DE5\\u53F7\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u6559\\u5E08\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u73ED\\u7EA7\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u4E13\\u4E1A\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u9662\\u90E8\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u5B66\\u6821\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:courses.map(course=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:course.id}),/*#__PURE__*/_jsx(\"td\",{children:course.name}),/*#__PURE__*/_jsx(\"td\",{children:course.description||'-'}),/*#__PURE__*/_jsx(\"td\",{children:course.teacher_username||'-'}),/*#__PURE__*/_jsx(\"td\",{children:course.teacher_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:course.display_class_name||course.teaching_class_name||course.class_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:course.major_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:course.department_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:course.school_name||'-'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:()=>handleEditCourse(course),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDeleteCourse(course.id),children:\"\\u5220\\u9664\"})]})]},course.id))})]})})]}),activeSubTab==='add'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isEditingCourse?'✏️ 编辑课程':'➕ 添加课程'}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"debug-btn\",onClick:()=>{console.log('当前状态:',{schools,departments,majors,courseForm});alert(\"\\u5B66\\u6821\\u6570\\u91CF: \".concat(schools.length,\"\\n\\u9662\\u90E8\\u6570\\u91CF: \").concat(departments.length,\"\\n\\u4E13\\u4E1A\\u6570\\u91CF: \").concat(majors.length,\"\\n\\u9009\\u62E9\\u7684\\u5B66\\u6821ID: \").concat(courseForm.school_id,\"\\n\\u9009\\u62E9\\u7684\\u9662\\u90E8ID: \").concat(courseForm.department_id));},children:\"\\uD83D\\uDC1B \\u8C03\\u8BD5\\u4FE1\\u606F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setActiveSubTab('list'),children:\"\\u2190 \\u8FD4\\u56DE\\u8BFE\\u7A0B\\u5217\\u8868\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-course-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u8BFE\\u7A0B\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u8BFE\\u7A0B\\u540D\\u79F0\",value:courseForm.name,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8BFE\\u7A0B\\u63CF\\u8FF0\\uFF1A\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8BF7\\u8F93\\u5165\\u8BFE\\u7A0B\\u63CF\\u8FF0\",value:courseForm.description,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value}))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u6388\\u8BFE\\u6559\\u5E08\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:courseForm.teacher_id,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{teacher_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u6388\\u8BFE\\u6559\\u5E08\"}),teachers.map(teacher=>/*#__PURE__*/_jsxs(\"option\",{value:teacher.id,children:[teacher.name,\"\\uFF08\",teacher.username,\"\\uFF09\"]},teacher.id))]}),/*#__PURE__*/_jsxs(\"small\",{children:[\"\\u53EF\\u7528\\u6559\\u5E08\\u6570\\u91CF: \",teachers.length]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u6559\\u5B66\\u73ED\\u540D\\u79F0\\uFF08\\u81EA\\u5B9A\\u4E49\\uFF09\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u4F8B\\u5982\\uFF1A2024-\\u6625 \\u6570\\u636E\\u7ED3\\u6784(1)\",value:courseForm.teaching_class_name,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{teaching_class_name:e.target.value}))}),/*#__PURE__*/_jsx(\"small\",{children:\"\\u4E0D\\u518D\\u4ECE\\u884C\\u653F\\u73ED\\u4E2D\\u9009\\u62E9\\uFF1B\\u6B64\\u5904\\u586B\\u5199\\u6559\\u5B66\\u73ED\\u540D\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleCreateCourse,disabled:loading||!courseForm.name||!courseForm.teacher_id,children:loading?isEditingCourse?'更新中...':'创建中...':isEditingCourse?'更新课程':'创建课程'})})]})]})]}),activeTab==='organization'&&/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFDB\\uFE0F \\u7EC4\\u7EC7\\u67B6\\u6784\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>setEditingSchool({}),children:\"\\u6DFB\\u52A0\\u7EC4\\u7EC7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"organization-tree\",children:schools.map(school=>/*#__PURE__*/_jsxs(\"div\",{className:\"school-node\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"school-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83C\\uDFEB \",school.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"school-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:()=>setEditingSchool(school),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDeleteSchool(school.id),children:\"\\u5220\\u9664\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn add\",onClick:()=>setEditingDepartment({school_id:school.id}),children:\"+ \\u6DFB\\u52A0\\u9662\\u90E8\"})]})]}),departments.filter(d=>d.school_id===school.id).map(department=>/*#__PURE__*/_jsx(\"div\",{className:\"department-node\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"department-header\",onClick:()=>setViewingDepartment(_objectSpread(_objectSpread({},department),{},{school_name:school.name})),role:\"button\",title:\"\\u70B9\\u51FB\\u67E5\\u770B\\u8BE5\\u9662\\u90E8\\u7684\\u4E0B\\u7EA7\\u7EC4\\u7EC7\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uD83C\\uDFE2 \",department.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"department-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:e=>{e.stopPropagation();setEditingDepartment(department);},children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:e=>{e.stopPropagation();handleDeleteDepartment(department.id);},children:\"\\u5220\\u9664\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn add\",onClick:e=>{e.stopPropagation();setEditingMajor({school_id:school.id,department_id:department.id});},children:\"+ \\u6DFB\\u52A0\\u4E13\\u4E1A\"})]})]})},department.id))]},school.id))})]})}),editingTeacher&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u7F16\\u8F91\\u6559\\u5E08\\uFF1A\",editingTeacher.name,\"\\uFF08\\u5DE5\\u53F7 \",editingTeacher.username,\"\\uFF09\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u90AE\\u7BB1\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:editForm.email,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u624B\\u673A\\u53F7\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:editForm.phone,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5B66\\u6821\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.school_id,onChange:async e=>{const val=e.target.value;setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:val,department_id:''}));if(val){const departmentsData=await getDepartments(val);setDepartments(departmentsData);}else{setDepartments([]);}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s.id,children:s.name},s.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9662\\u90E8\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.department_id,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{department_id:e.target.value})),disabled:!editForm.school_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u9662\\u90E8\"}),departments.filter(dept=>dept.school_id===editForm.school_id).map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.id,children:dept.name},dept.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u542F\\u7528\\u72B6\\u6001\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.is_active?'1':'0',onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{is_active:e.target.value==='1'})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\u542F\\u7528\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"\\u7981\\u7528\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u91CD\\u7F6E\\u5BC6\\u7801\\uFF08\\u53EF\\u9009\\uFF09\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:editForm.new_password,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{new_password:e.target.value}))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleCancelEditTeacher,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleSaveTeacher,disabled:loading,children:loading?'保存中...':'保存'})]})]})}),editingSchool&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingSchool.id?'编辑学校':'添加学校'}),!editingSchool.id&&/*#__PURE__*/_jsx(\"p\",{className:\"modal-subtitle\",children:\"\\u521B\\u5EFA\\u65B0\\u7684\\u5B66\\u6821\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u5B66\\u6821\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5B66\\u6821\\u540D\\u79F0\",value:newSchoolForm.name,onChange:e=>setNewSchoolForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5B66\\u6821\\u4EE3\\u7801\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5B66\\u6821\\u4EE3\\u7801\\uFF08\\u53EF\\u9009\\uFF09\",value:newSchoolForm.code,onChange:e=>setNewSchoolForm(prev=>_objectSpread(_objectSpread({},prev),{},{code:e.target.value}))})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setEditingSchool(null),children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:()=>handleSaveSchool(),disabled:loading,children:loading?'保存中...':'保存'})]})]})}),editingDepartment&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingDepartment.id?'编辑院部':'添加院部'}),!editingDepartment.id&&editingDepartment.school_id&&/*#__PURE__*/_jsxs(\"p\",{className:\"modal-subtitle\",children:[\"\\u4E3A\\u5B66\\u6821 \\\"\",(_schools$find=schools.find(s=>s.id==editingDepartment.school_id))===null||_schools$find===void 0?void 0:_schools$find.name,\"\\\" \\u6DFB\\u52A0\\u9662\\u90E8\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u9662\\u90E8\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u9662\\u90E8\\u540D\\u79F0\",value:newDepartmentForm.name,onChange:e=>setNewDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9662\\u90E8\\u4EE3\\u7801\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u9662\\u90E8\\u4EE3\\u7801\\uFF08\\u53EF\\u9009\\uFF09\",value:newDepartmentForm.code,onChange:e=>setNewDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{code:e.target.value}))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u6240\\u5C5E\\u5B66\\u6821\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:newDepartmentForm.school_id,onChange:e=>setNewDepartmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(school=>/*#__PURE__*/_jsx(\"option\",{value:school.id,children:school.name},school.id))]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setEditingDepartment(null),children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:()=>handleSaveDepartment(),disabled:loading,children:loading?'保存中...':'保存'})]})]})}),editingMajor&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingMajor.id?'编辑专业':'添加专业'}),!editingMajor.id&&editingMajor.department_id&&/*#__PURE__*/_jsxs(\"p\",{className:\"modal-subtitle\",children:[\"\\u4E3A\\u9662\\u90E8 \\\"\",(_departments$find=departments.find(d=>d.id==editingMajor.department_id))===null||_departments$find===void 0?void 0:_departments$find.name,\"\\\" \\u6DFB\\u52A0\\u4E13\\u4E1A\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u4E13\\u4E1A\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4E13\\u4E1A\\u540D\\u79F0\",value:newMajorForm.name,onChange:e=>setNewMajorForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u4E13\\u4E1A\\u4EE3\\u7801\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4E13\\u4E1A\\u4EE3\\u7801\\uFF08\\u53EF\\u9009\\uFF09\",value:newMajorForm.code,onChange:e=>setNewMajorForm(prev=>_objectSpread(_objectSpread({},prev),{},{code:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u6240\\u5C5E\\u9662\\u90E8\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:newMajorForm.department_id,onChange:e=>setNewMajorForm(prev=>_objectSpread(_objectSpread({},prev),{},{department_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u9662\\u90E8\\uFF08\\u53EF\\u9009\\uFF09\"}),departments.map(department=>/*#__PURE__*/_jsx(\"option\",{value:department.id,children:department.name},department.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u6240\\u5C5E\\u5B66\\u6821\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:newMajorForm.school_id,onChange:e=>setNewMajorForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(school=>/*#__PURE__*/_jsx(\"option\",{value:school.id,children:school.name},school.id))]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setEditingMajor(null),children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:()=>handleSaveMajor(),disabled:loading,children:loading?'保存中...':'保存'})]})]})}),editingClass&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingClass.id?'编辑班级':'添加班级'}),!editingClass.id&&editingClass.major_id&&/*#__PURE__*/_jsxs(\"p\",{className:\"modal-subtitle\",children:[\"\\u4E3A\\u4E13\\u4E1A \\\"\",(_majors$find=majors.find(m=>m.id==editingClass.major_id))===null||_majors$find===void 0?void 0:_majors$find.name,\"\\\" \\u6DFB\\u52A0\\u73ED\\u7EA7\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u73ED\\u7EA7\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u73ED\\u7EA7\\u540D\\u79F0\",value:newClassForm.name,onChange:e=>setNewClassForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5E74\\u7EA7\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5E74\\u7EA7\\uFF08\\u53EF\\u9009\\uFF09\",value:newClassForm.grade,onChange:e=>setNewClassForm(prev=>_objectSpread(_objectSpread({},prev),{},{grade:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u6240\\u5C5E\\u4E13\\u4E1A\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:newClassForm.major_id,onChange:e=>setNewClassForm(prev=>_objectSpread(_objectSpread({},prev),{},{major_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u4E13\\u4E1A\\uFF08\\u53EF\\u9009\\uFF09\"}),majors.map(major=>/*#__PURE__*/_jsx(\"option\",{value:major.id,children:major.name},major.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u6240\\u5C5E\\u9662\\u90E8\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:newClassForm.department_id,onChange:e=>setNewClassForm(prev=>_objectSpread(_objectSpread({},prev),{},{department_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u9662\\u90E8\\uFF08\\u53EF\\u9009\\uFF09\"}),departments.map(department=>/*#__PURE__*/_jsx(\"option\",{value:department.id,children:department.name},department.id))]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setEditingClass(null),children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:()=>handleSaveClass(),disabled:loading,children:loading?'保存中...':'保存'})]})]})}),viewingDepartment&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay \".concat(isClosingModal?'closing':''),onClick:handleCloseModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal wide\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u9662\\u90E8\\u4E0B\\u7EA7\\u7EC4\\u7EC7\\uFF1A\",viewingDepartment.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"modal-subtitle\",children:[\"\\u6240\\u5C5E\\u5B66\\u6821\\uFF1A\",viewingDepartment.school_name||'-',\" | \\u9662\\u90E8ID\\uFF1A\",viewingDepartment.id]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:(()=>{const deptMajors=majors.filter(m=>m.department_id==viewingDepartment.id);if(deptMajors.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"\\u6682\\u65E0\\u4E13\\u4E1A\\u3002\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"dept-children\",children:deptMajors.map(m=>{const majorClasses=classes.filter(c=>c.major_id==m.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"dept-major-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dept-major-header\",children:[\"\\uD83D\\uDCDA \",m.name,\"\\uFF08ID: \",m.id,\"\\uFF09\",/*#__PURE__*/_jsxs(\"span\",{className:\"count\",children:[\"\\u73ED\\u7EA7\\u6570\\uFF1A\",majorClasses.length]})]}),majorClasses.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"dept-class-list\",children:majorClasses.map(c=>/*#__PURE__*/_jsxs(\"li\",{className:\"class-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"class-info\",children:[\"\\uD83D\\uDC65 \",c.name,\"\\uFF08ID: \",c.id,\"\\uFF09\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-class-btn\",onClick:()=>handleDeleteClassFromModal(c.id,c.name),disabled:loading,title:\"\\u5220\\u9664\\u73ED\\u7EA7\\\"\".concat(c.name,\"\\\"\"),children:\"\\uD83D\\uDDD1\\uFE0F\"})]},c.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"empty\",children:\"\\u8BE5\\u4E13\\u4E1A\\u6682\\u65E0\\u73ED\\u7EA7\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dept-major-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-class-btn\",onClick:()=>handleAddClassForMajor(m),disabled:(addingClassForMajor===null||addingClassForMajor===void 0?void 0:addingClassForMajor.id)===m.id,children:(addingClassForMajor===null||addingClassForMajor===void 0?void 0:addingClassForMajor.id)===m.id?'添加中...':'➕ 添加班级'})}),(addingClassForMajor===null||addingClassForMajor===void 0?void 0:addingClassForMajor.id)===m.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-class-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u73ED\\u7EA7\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u73ED\\u7EA7\\u540D\\u79F0\",value:newClassForm.name,onChange:e=>setNewClassForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5E74\\u7EA7\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5E74\\u7EA7\\uFF08\\u53EF\\u9009\\uFF09\",value:newClassForm.grade,onChange:e=>setNewClassForm(prev=>_objectSpread(_objectSpread({},prev),{},{grade:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn small\",onClick:()=>setAddingClassForMajor(null),children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn small\",onClick:handleSaveClassForMajor,disabled:loading||!newClassForm.name.trim(),children:loading?'保存中...':'保存'})]})]})]},m.id);})});})()}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleCloseModal,children:\"\\u5173\\u95ED\"})})]})})]});};export default AdminDashboardPage;","map":{"version":3,"names":["React","useState","useEffect","getUsers","getSchools","getMajors","getClasses","getDepartments","registerTeacher","updateUser","deleteUser","getAllCourses","createCourse","updateCourse","deleteCourse","createSchool","updateSchool","deleteSchool","createDepartment","updateDepartment","deleteDepartment","createMajor","updateMajor","deleteMajor","createClass","updateClass","deleteClass","WhaleIcon","jsx","_jsx","jsxs","_jsxs","AdminDashboardPage","_schools$find","_departments$find","_majors$find","activeTab","setActiveTab","activeSubTab","setActiveSubTab","teachers","setTeachers","schools","setSchools","majors","setMajors","classes","setClasses","loading","setLoading","error","setError","success","setSuccess","editingTeacher","setEditingTeacher","editForm","setEditForm","email","phone","school_id","department_id","is_active","new_password","addTeacherForm","setAddTeacherForm","job_no","name","password","scrollAnimations","setScrollAnimations","formVisible","bottomFormVisible","courses","setCourses","courseForm","setCourseForm","description","teacher_id","teaching_class_name","editingCourse","setEditingCourse","isEditingCourse","setIsEditingCourse","departments","setDepartments","newSchoolForm","setNewSchoolForm","code","newDepartmentForm","setNewDepartmentForm","newMajorForm","setNewMajorForm","newClassForm","setNewClassForm","grade","major_id","editingSchool","setEditingSchool","editingDepartment","setEditingDepartment","editingMajor","setEditingMajor","editingClass","setEditingClass","viewingDepartment","setViewingDepartment","isClosingModal","setIsClosingModal","addingClassForMajor","setAddingClassForMajor","handleCloseModal","setTimeout","handleAddClassForMajor","major","id","handleSaveClassForMajor","trim","alert","fetchInitialData","_error$response","_error$response$data","response","data","handleDeleteClassFromModal","classId","className","window","confirm","concat","_error$response2","_error$response2$data","handleScroll","scrollY","windowHeight","innerHeight","documentHeight","document","documentElement","scrollHeight","prev","_objectSpread","addEventListener","removeEventListener","schoolsData","console","log","apiError","warn","teachersData","users","coursesData","departmentsData","majorsData","classesData","_error$response3","_error$response3$data","handleSchoolChange","schoolId","handleCourseSchoolChange","class_id","handleCourseDepartmentChange","departmentId","filteredMajors","filter","handleCourseMajorChange","majorId","handleCreateCourse","submitData","_error$response4","_error$response4$data","handleEditCourse","course","display_class_name","handleDeleteCourse","courseId","_error$response5","_error$response5$data","handleAddTeacher","_error$response6","_error$response6$data","handleEditTeacherClick","teacher","handleSaveTeacher","_error$response7","_error$response7$data","handleCancelEditTeacher","handleDeleteTeacher","userId","_error$response8","_error$response8$data","initializeEditForms","handleSaveSchool","_error$response9","_error$response9$data","handleSaveDepartment","_error$response0","_error$response0$data","handleSaveMajor","_error$response1","_error$response1$data","handleSaveClass","_error$response10","_error$response10$dat","handleDeleteSchool","_error$response11","_error$response11$dat","handleDeleteDepartment","_error$response12","_error$response12$dat","handleDeleteMajor","_error$response13","_error$response13$dat","handleDeleteClass","_error$response14","_error$response14$dat","children","onClick","map","username","school_name","department_name","length","type","placeholder","value","onChange","e","target","school","disabled","department","teacher_username","teacher_name","class_name","major_name","d","role","title","stopPropagation","val","s","dept","find","m","deptMajors","majorClasses","c"],"sources":["/Volumes/坞城/OJ_1/frontend/src/pages/AdminDashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getUsers, getSchools, getMajors, getClasses, getDepartments, registerTeacher, updateUser, deleteUser, getAllCourses, createCourse, updateCourse, deleteCourse, createSchool, updateSchool, deleteSchool, createDepartment, updateDepartment, deleteDepartment, createMajor, updateMajor, deleteMajor, createClass, updateClass, deleteClass } from '../services/api';\nimport './AdminDashboardPage.css';\nimport WhaleIcon from '../components/WhaleIcon';\n\nconst AdminDashboardPage = () => {\n  const [activeTab, setActiveTab] = useState('teachers');\n  const [activeSubTab, setActiveSubTab] = useState('list');\n  const [teachers, setTeachers] = useState([]);\n  const [schools, setSchools] = useState([]);\n  const [majors, setMajors] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // 编辑教师相关状态\n  const [editingTeacher, setEditingTeacher] = useState(null);\n  const [editForm, setEditForm] = useState({\n    email: '',\n    phone: '',\n    school_id: '',\n    department_id: '',\n    is_active: true,\n    new_password: ''\n  });\n\n  // 添加教师相关状态\n  const [addTeacherForm, setAddTeacherForm] = useState({\n    job_no: '',\n    name: '',\n    password: '',\n    email: '',\n    phone: '',\n    school_id: '',\n    department_id: ''\n  });\n\n  // 滚动动画相关状态\n  const [scrollAnimations, setScrollAnimations] = useState({\n    formVisible: false,\n    bottomFormVisible: false\n  });\n\n  // 课程相关状态\n  const [courses, setCourses] = useState([]);\n  const [courseForm, setCourseForm] = useState({\n    name: '',\n    description: '',\n    teacher_id: '',\n    teaching_class_name: ''\n  });\n\n  // 编辑课程状态\n  const [editingCourse, setEditingCourse] = useState(null);\n  const [isEditingCourse, setIsEditingCourse] = useState(false);\n\n  // 组织架构管理相关状态\n  const [departments, setDepartments] = useState([]);\n  const [newSchoolForm, setNewSchoolForm] = useState({ name: '', code: '' });\n  const [newDepartmentForm, setNewDepartmentForm] = useState({ name: '', code: '', school_id: '' });\n  const [newMajorForm, setNewMajorForm] = useState({ name: '', code: '', department_id: '', school_id: '' });\n  const [newClassForm, setNewClassForm] = useState({ name: '', grade: '', major_id: '', department_id: '' });\n  const [editingSchool, setEditingSchool] = useState(null);\n  const [editingDepartment, setEditingDepartment] = useState(null);\n  const [editingMajor, setEditingMajor] = useState(null);\n  const [editingClass, setEditingClass] = useState(null);\n  // 查看院部下级组织\n  const [viewingDepartment, setViewingDepartment] = useState(null);\n  const [isClosingModal, setIsClosingModal] = useState(false);\n  const [addingClassForMajor, setAddingClassForMajor] = useState(null);\n\n  // 平滑关闭模态框\n  const handleCloseModal = () => {\n    setIsClosingModal(true);\n    setTimeout(() => {\n      setViewingDepartment(null);\n      setIsClosingModal(false);\n      setAddingClassForMajor(null);\n    }, 250); // 与CSS动画时长匹配\n  };\n\n  // 为指定专业添加班级\n  const handleAddClassForMajor = (major) => {\n    setAddingClassForMajor(major);\n    setNewClassForm({\n      name: '',\n      grade: '',\n      major_id: major.id,\n      department_id: viewingDepartment.id\n    });\n  };\n\n  // 保存班级\n  const handleSaveClassForMajor = async () => {\n    if (!newClassForm.name.trim()) {\n      alert('请输入班级名称');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      await createClass(newClassForm);\n      setSuccess('班级创建成功！');\n      setAddingClassForMajor(null);\n      setNewClassForm({ name: '', grade: '', major_id: '', department_id: '' });\n      fetchInitialData(); // 刷新数据\n    } catch (error) {\n      setError(error?.response?.data?.error || '创建班级失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 删除班级（从院部模态框）\n  const handleDeleteClassFromModal = async (classId, className) => {\n    if (!window.confirm(`确定要删除班级\"${className}\"吗？此操作不可恢复。`)) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      await deleteClass(classId);\n      setSuccess('班级删除成功！');\n      fetchInitialData(); // 刷新数据\n    } catch (error) {\n      setError(error?.response?.data?.error || '删除班级失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n  useEffect(() => {\n    fetchInitialData();\n  }, []);\n\n  // 滚动监听和动画触发\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const windowHeight = window.innerHeight;\n      const documentHeight = document.documentElement.scrollHeight;\n      \n      // 检测表单是否进入视口\n      if (scrollY > 100) {\n        setScrollAnimations(prev => ({ ...prev, formVisible: true }));\n      }\n      \n      // 检测是否接近底部，触发底部表单动画\n      if (scrollY + windowHeight > documentHeight - 200) {\n        setScrollAnimations(prev => ({ ...prev, bottomFormVisible: true }));\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    \n    // 初始触发\n    handleScroll();\n    \n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const fetchInitialData = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      // 从真实API获取数据\n      try {\n        const schoolsData = await getSchools();\n        setSchools(schoolsData);\n        console.log('从API获取的学校数据:', schoolsData);\n      } catch (apiError) {\n        console.warn('API获取学校数据失败:', apiError);\n        setSchools([]);\n      }\n      \n      // 尝试从API获取教师数据\n      try {\n        const teachersData = await getUsers(1, 50, 'teacher');\n        setTeachers(teachersData.users);\n      } catch (apiError) {\n        console.warn('API获取教师数据失败:', apiError);\n        setTeachers([]);\n      }\n\n      // 尝试从API获取课程数据\n      try {\n        const coursesData = await getAllCourses(1, 50);\n        setCourses(coursesData.courses || []);\n      } catch (apiError) {\n        console.warn('API获取课程数据失败:', apiError);\n        setCourses([]);\n      }\n\n      // 组织数据用于组织架构管理（与课程创建分离）\n      try {\n        const departmentsData = await getDepartments();\n        setDepartments(departmentsData);\n        console.log('从API获取的院部数据:', departmentsData);\n      } catch (apiError) {\n        console.warn('API获取院部数据失败:', apiError);\n        setDepartments([]);\n      }\n\n      try {\n        const majorsData = await getMajors();\n        setMajors(majorsData);\n        console.log('从API获取的专业数据:', majorsData);\n      } catch (apiError) {\n        console.warn('API获取专业数据失败:', apiError);\n        setMajors([]);\n      }\n\n      try {\n        const classesData = await getClasses();\n        setClasses(classesData);\n        console.log('从API获取的班级数据:', classesData);\n      } catch (apiError) {\n        console.warn('API获取班级数据失败:', apiError);\n        setClasses([]);\n      }\n      \n    } catch (error) {\n      setError(error?.response?.data?.error || '获取数据失败');\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSchoolChange = async (schoolId) => {\n    console.log('学校选择改变:', schoolId);\n    setAddTeacherForm(prev => ({ ...prev, school_id: schoolId, department_id: '' }));\n    \n    if (schoolId) {\n      try {\n        const departmentsData = await getDepartments(schoolId);\n        setDepartments(departmentsData);\n        console.log('从API获取的院部数据:', departmentsData);\n      } catch (error) {\n        console.error('Error fetching departments:', error);\n        setDepartments([]);\n      }\n    } else {\n      setDepartments([]);\n    }\n  };\n\n  // 课程相关处理函数\n  const handleCourseSchoolChange = async (schoolId) => {\n    setCourseForm(prev => ({ \n      ...prev, \n      school_id: schoolId,\n      department_id: '',\n      major_id: '',\n      class_id: ''\n    }));\n    \n    if (schoolId) {\n      try {\n        const departmentsData = await getDepartments(schoolId);\n        setDepartments(departmentsData);\n      } catch (error) {\n        console.error('Error fetching departments:', error);\n      }\n    } else {\n      setDepartments([]);\n    }\n  };\n\n  const handleCourseDepartmentChange = async (departmentId) => {\n    setCourseForm(prev => ({ \n      ...prev, \n      department_id: departmentId,\n      major_id: '',\n      class_id: ''\n    }));\n    \n    if (departmentId) {\n      try {\n        const majorsData = await getMajors();\n        // 过滤出属于该院部的专业\n        const filteredMajors = majorsData.filter(major => \n          major.department_id == departmentId && \n          major.school_id == courseForm.school_id\n        );\n        setMajors(filteredMajors);\n      } catch (error) {\n        console.error('Error fetching majors:', error);\n      }\n    } else {\n      setMajors([]);\n    }\n  };\n\n  const handleCourseMajorChange = async (majorId) => {\n    setCourseForm(prev => ({ \n      ...prev, \n      major_id: majorId,\n      class_id: ''\n    }));\n    \n    if (majorId) {\n      try {\n        const classesData = await getClasses(majorId);\n        setClasses(classesData);\n      } catch (error) {\n        console.error('Error fetching classes:', error);\n      }\n    } else {\n      setClasses([]);\n    }\n  };\n\n  const handleCreateCourse = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      // 仅提交教学班名，不再强制依赖行政班\n      const submitData = {\n        name: courseForm.name,\n        description: courseForm.description || '',\n        teacher_id: courseForm.teacher_id,\n        teaching_class_name: (courseForm.teaching_class_name || '').trim() || null\n      };\n      \n      if (isEditingCourse && editingCourse) {\n        await updateCourse(editingCourse.id, submitData);\n        setSuccess('课程更新成功！');\n      } else {\n        await createCourse(submitData);\n        setSuccess('课程创建成功！');\n      }\n      \n      // 重置表单\n      setCourseForm({\n        name: '',\n        description: '',\n        teacher_id: '',\n        teaching_class_name: ''\n      });\n      \n      setIsEditingCourse(false);\n      setEditingCourse(null);\n      \n      // 刷新课程列表\n      const coursesData = await getAllCourses(1, 50);\n      setCourses(coursesData.courses || []);\n      \n      // 切换到课程列表\n      setActiveSubTab('list');\n      \n    } catch (error) {\n      console.error('课程创建/更新失败:', error);\n      setError(error.response?.data?.error || (isEditingCourse ? '更新课程失败' : '创建课程失败'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditCourse = (course) => {\n    setEditingCourse(course);\n    setCourseForm({\n      name: course.name,\n      description: course.description || '',\n      teacher_id: course.teacher_id || '',\n      teaching_class_name: course.teaching_class_name || course.display_class_name || ''\n    });\n    setIsEditingCourse(true);\n    setActiveSubTab('add');\n  };\n\n  const handleDeleteCourse = async (courseId) => {\n    if (!window.confirm('确定要删除该课程吗？此操作不可恢复。')) return;\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await deleteCourse(courseId);\n      setSuccess('课程已删除');\n      \n      // 刷新课程列表\n      const coursesData = await getAllCourses(1, 50);\n      setCourses(coursesData.courses || []);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '删除课程失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddTeacher = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await registerTeacher(addTeacherForm);\n      \n      setSuccess('教师账号创建成功！');\n      \n      // 重置表单\n      setAddTeacherForm({\n        job_no: '',\n        name: '',\n        password: '',\n        email: '',\n        phone: '',\n        school_id: '',\n        department_id: ''\n      });\n      \n      // 刷新教师列表\n      const teachersData = await getUsers(1, 50, 'teacher');\n      setTeachers(teachersData.users);\n      \n      // 切换到教师列表\n      setActiveSubTab('list');\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '创建教师账号失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditTeacherClick = (teacher) => {\n    setEditingTeacher(teacher);\n    setEditForm({\n      email: teacher.email || '',\n      phone: teacher.phone || '',\n      school_id: teacher.school_id || '',\n      department_id: teacher.department_id || '',\n      is_active: !!teacher.is_active,\n      new_password: ''\n    });\n    setError('');\n    setSuccess('');\n  };\n\n  const handleSaveTeacher = async () => {\n    if (!editingTeacher) return;\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      await updateUser(editingTeacher.id, editForm);\n      setSuccess('教师信息已更新');\n      // 刷新列表\n      const teachersData = await getUsers(1, 50, 'teacher');\n      setTeachers(teachersData.users);\n      setEditingTeacher(null);\n    } catch (error) {\n      setError(error.response?.data?.error || '更新教师信息失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancelEditTeacher = () => {\n    setEditingTeacher(null);\n    setEditForm({ email: '', phone: '', school_id: '', department_id: '', is_active: true, new_password: '' });\n  };\n\n  const handleDeleteTeacher = async (userId) => {\n    if (!window.confirm('确定要删除该教师吗？此操作不可恢复。')) return;\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      await deleteUser(userId);\n      setSuccess('教师已删除');\n      \n      // 刷新教师列表\n      const teachersData = await getUsers(1, 50, 'teacher');\n      setTeachers(teachersData.users);\n      \n      // 同时刷新课程列表，确保数据一致性\n      try {\n        const coursesData = await getAllCourses(1, 50);\n        setCourses(coursesData.courses || []);\n      } catch (apiError) {\n        console.warn('刷新课程列表失败:', apiError);\n      }\n    } catch (error) {\n      setError(error.response?.data?.error || '删除教师失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 组织架构管理相关处理函数\n  \n  // 当编辑模态框打开时，初始化表单数据\n  const initializeEditForms = () => {\n    if (editingSchool) {\n      if (editingSchool.id) {\n        // 编辑模式\n        setNewSchoolForm({ name: editingSchool.name, code: editingSchool.code || '' });\n      } else {\n        // 添加模式\n        setNewSchoolForm({ name: '', code: '' });\n      }\n    }\n    \n    if (editingDepartment) {\n      if (editingDepartment.id) {\n        // 编辑模式\n        setNewDepartmentForm({ \n          name: editingDepartment.name, \n          code: editingDepartment.code || '', \n          school_id: editingDepartment.school_id || '' \n        });\n      } else {\n        // 添加模式 - 如果是从学校节点添加的，预填充学校ID\n        setNewDepartmentForm({ \n          name: '', \n          code: '', \n          school_id: editingDepartment.school_id || '' \n        });\n      }\n    }\n    \n    if (editingMajor) {\n      if (editingMajor.id) {\n        // 编辑模式\n        setNewMajorForm({ \n          name: editingMajor.name, \n          code: editingMajor.code || '', \n          department_id: editingMajor.department_id || '', \n          school_id: editingMajor.school_id || '' \n        });\n      } else {\n        // 添加模式 - 如果是从院部节点添加的，预填充院部和学校ID\n        setNewMajorForm({ \n          name: '', \n          code: '', \n          department_id: editingMajor.department_id || '', \n          school_id: editingMajor.school_id || '' \n        });\n      }\n    }\n    \n    if (editingClass) {\n      if (editingClass.id) {\n        // 编辑模式\n        setNewClassForm({ \n          name: editingClass.name, \n          grade: editingClass.grade || '', \n          major_id: editingClass.major_id || '', \n          department_id: editingClass.department_id || '' \n        });\n      } else {\n        // 添加模式 - 如果是从专业节点添加的，预填充专业和院部ID\n        setNewClassForm({ \n          name: '', \n          grade: '', \n          major_id: editingClass.major_id || '', \n          department_id: editingClass.department_id || '' \n        });\n      }\n    }\n  };\n\n  // 监听编辑状态变化，初始化表单\n  useEffect(() => {\n    initializeEditForms();\n  }, [editingSchool, editingDepartment, editingMajor, editingClass]);\n\n  const handleSaveSchool = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      if (editingSchool.id) {\n        // 更新学校\n        await updateSchool(editingSchool.id, newSchoolForm);\n        setSuccess('学校更新成功！');\n      } else {\n        // 创建学校\n        await createSchool(newSchoolForm);\n        setSuccess('学校创建成功！');\n      }\n      \n      // 刷新学校列表\n      const schoolsData = await getSchools();\n      setSchools(schoolsData);\n      \n      // 重置表单\n      setNewSchoolForm({ name: '', code: '' });\n      setEditingSchool(null);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '保存学校失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveDepartment = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      if (editingDepartment.id) {\n        // 更新院部\n        await updateDepartment(editingDepartment.id, newDepartmentForm);\n        setSuccess('院部更新成功！');\n      } else {\n        // 创建院部\n        await createDepartment(newDepartmentForm);\n        setSuccess('院部创建成功！');\n      }\n      \n      // 刷新院部列表\n      const departmentsData = await getDepartments();\n      setDepartments(departmentsData);\n      \n      // 重置表单\n      setNewDepartmentForm({ name: '', code: '', school_id: '' });\n      setEditingDepartment(null);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '保存院部失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveMajor = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      if (editingMajor.id) {\n        // 更新专业\n        await updateMajor(editingMajor.id, newMajorForm);\n        setSuccess('专业更新成功！');\n      } else {\n        // 创建专业\n        await createMajor(newMajorForm);\n        setSuccess('专业创建成功！');\n      }\n      \n      // 刷新专业列表\n      const majorsData = await getMajors();\n      setMajors(majorsData);\n      \n      // 重置表单\n      setNewMajorForm({ name: '', code: '', department_id: '', school_id: '' });\n      setEditingMajor(null);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '保存专业失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveClass = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      if (editingClass.id) {\n        // 更新班级\n        await updateClass(editingClass.id, newClassForm);\n        setSuccess('班级更新成功！');\n      } else {\n        // 创建班级\n        await createClass(newClassForm);\n        setSuccess('班级创建成功！');\n      }\n      \n      // 刷新班级列表\n      const classesData = await getClasses();\n      setClasses(classesData);\n      \n      // 重置表单\n      setNewClassForm({ name: '', grade: '', major_id: '', department_id: '' });\n      setEditingClass(null);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '保存班级失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 删除组织相关处理函数\n  const handleDeleteSchool = async (schoolId) => {\n    if (!window.confirm('确定要删除该学校吗？此操作不可恢复。')) return;\n    \n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await deleteSchool(schoolId);\n      setSuccess('学校删除成功！');\n      \n      // 刷新学校列表\n      const schoolsData = await getSchools();\n      setSchools(schoolsData);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '删除学校失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteDepartment = async (departmentId) => {\n    if (!window.confirm('确定要删除该院部吗？此操作不可恢复。')) return;\n    \n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await deleteDepartment(departmentId);\n      setSuccess('院部删除成功！');\n      \n      // 刷新院部列表\n      const departmentsData = await getDepartments();\n      setDepartments(departmentsData);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '删除院部失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteMajor = async (majorId) => {\n    if (!window.confirm('确定要删除该专业吗？此操作不可恢复。')) return;\n    \n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await deleteMajor(majorId);\n      setSuccess('专业删除成功！');\n      \n      // 刷新专业列表\n      const majorsData = await getMajors();\n      setMajors(majorsData);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '删除专业失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteClass = async (classId) => {\n    if (!window.confirm('确定要删除该班级吗？此操作不可恢复。')) return;\n    \n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await deleteClass(classId);\n      setSuccess('班级删除成功！');\n      \n      // 刷新班级列表\n      const classesData = await getClasses();\n      setClasses(classesData);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '删除班级失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n\n  return (\n    <div className=\"admin-dashboard\">\n      <div className=\"dashboard-header\">\n        <h1>管理员控制台</h1>\n      </div>\n      \n      {error && <div className=\"error-message\">{error}</div>}\n      {success && <div className=\"success-message\">{success}</div>}\n      \n      <div className=\"dashboard-tabs\">\n        <button \n          className={`tab-btn ${activeTab === 'teachers' ? 'active' : ''}`}\n          onClick={() => {\n            setActiveTab('teachers');\n            setActiveSubTab('list');\n            // 清除课程相关状态\n            setEditingCourse(null);\n          }}\n        >\n          教师管理\n        </button>\n        <button \n          className={`tab-btn ${activeTab === 'courses' ? 'active' : ''}`}\n          onClick={() => {\n            setActiveTab('courses');\n            setActiveSubTab('list');\n            // 清除教师相关状态\n            setEditingTeacher(null);\n          }}\n        >\n          课程管理\n        </button>\n        <button \n          className={`tab-btn ${activeTab === 'organization' ? 'active' : ''}`}\n          onClick={() => {\n            setActiveTab('organization');\n            setActiveSubTab('schools');\n          }}\n        >\n          组织架构管理\n        </button>\n      </div>\n\n      {activeTab === 'teachers' && (\n        <div className=\"tab-content\">\n          <div className=\"sub-tabs\">\n            <button \n              className={`sub-tab-btn ${activeSubTab === 'list' ? 'active' : ''}`}\n              onClick={() => setActiveSubTab('list')}\n            >\n              教师列表\n            </button>\n            <button \n              className={`sub-tab-btn ${activeSubTab === 'add' ? 'active' : ''}`}\n              onClick={() => setActiveSubTab('add')}\n            >\n              添加教师\n            </button>\n          </div>\n\n          {activeSubTab === 'list' && (\n            <div className=\"section-content\">\n              <div className=\"section-header\">\n                <h2>教师列表</h2>\n                <button \n                  className=\"add-btn\"\n                  onClick={() => setActiveSubTab('add')}\n                >\n                  添加教师\n                </button>\n              </div>\n                \n                <div className=\"teachers-table\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>ID</th>\n                        <th>工号</th>\n                        <th>姓名</th>\n                        <th>邮箱</th>\n                        <th>学校</th>\n                        <th>院部</th>\n                        <th>状态</th>\n                        <th>操作</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {teachers.map(teacher => (\n                        <tr key={teacher.id}>\n                          <td>{teacher.id}</td>\n                          <td>{teacher.username}</td>\n                          <td>{teacher.name}</td>\n                          <td>{teacher.email || '-'}</td>\n                          <td>{teacher.school_name || '-'}</td>\n                          <td>{teacher.department_name || '-'}</td>\n                          <td>\n                            <span className={`status-badge ${teacher.is_active ? 'active' : 'inactive'}`}>\n                              {teacher.is_active ? '活跃' : '禁用'}\n                            </span>\n                          </td>\n                          <td>\n                            <button className=\"action-btn edit\" onClick={() => handleEditTeacherClick(teacher)}>编辑</button>\n                            <button className=\"action-btn delete\" onClick={() => handleDeleteTeacher(teacher.id)}>删除</button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n\n          {activeSubTab === 'add' && (\n            <div className=\"section-content\">\n              <div className=\"section-header\">\n                <h2>➕ 添加教师</h2>\n                <div className=\"header-actions\">\n                  <button \n                    className=\"debug-btn\"\n                    onClick={() => {\n                      console.log('当前状态:', { schools, departments, addTeacherForm });\n                      alert(`学校数量: ${schools.length}\\n院部数量: ${departments.length}\\n选择的学校ID: ${addTeacherForm.school_id}`);\n                    }}\n                  >\n                    🐛 调试信息\n                  </button>\n                  <button \n                    className=\"secondary-btn\"\n                    onClick={() => setActiveSubTab('list')}\n                  >\n                    ← 返回教师列表\n                  </button>\n                </div>\n              </div>\n                \n                <div className={`add-teacher-form ${scrollAnimations.formVisible ? 'form-visible' : ''}`}>\n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>工号：<span className=\"required-mark\">*</span></label>\n                      <input \n                        type=\"text\" \n                        placeholder=\"请输入工号\"\n                        value={addTeacherForm.job_no}\n                        onChange={(e) => setAddTeacherForm(prev => ({ ...prev, job_no: e.target.value }))}\n                      />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                      <label>姓名：<span className=\"required-mark\">*</span></label>\n                      <input \n                        type=\"text\" \n                        placeholder=\"请输入教师姓名\"\n                        value={addTeacherForm.name}\n                        onChange={(e) => setAddTeacherForm(prev => ({ ...prev, name: e.target.value }))}\n                      />\n                    </div>\n                  </div>\n                  \n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>密码：<span className=\"required-mark\">*</span></label>\n                      <input \n                        type=\"password\" \n                        placeholder=\"请输入初始密码\"\n                        value={addTeacherForm.password}\n                        onChange={(e) => setAddTeacherForm(prev => ({ ...prev, password: e.target.value }))}\n                      />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                      <label>邮箱：</label>\n                      <input \n                        type=\"email\" \n                        placeholder=\"请输入邮箱地址\"\n                        value={addTeacherForm.email}\n                        onChange={(e) => setAddTeacherForm(prev => ({ ...prev, email: e.target.value }))}\n                      />\n                    </div>\n                  </div>\n                  \n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>手机号：</label>\n                      <input \n                        type=\"tel\" \n                        placeholder=\"请输入手机号码\"\n                        value={addTeacherForm.phone}\n                        onChange={(e) => setAddTeacherForm(prev => ({ ...prev, phone: e.target.value }))}\n                      />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                      <label>学校：<span className=\"required-mark\">*</span></label>\n                      <select \n                        value={addTeacherForm.school_id} \n                        onChange={(e) => handleSchoolChange(e.target.value)}\n                      >\n                        <option value=\"\">请选择学校</option>\n                        {schools.map(school => (\n                          <option key={school.id} value={school.id}>\n                            {school.name}\n                          </option>\n                        ))}\n                      </select>\n                      <small>可用学校数量: {schools.length}</small>\n                    </div>\n                  </div>\n                  \n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>院部：<span className=\"required-mark\">*</span></label>\n                      <select \n                        value={addTeacherForm.department_id} \n                        onChange={(e) => setAddTeacherForm(prev => ({ ...prev, department_id: e.target.value }))}\n                        disabled={!addTeacherForm.school_id}\n                      >\n                        <option value=\"\">请选择院部</option>\n                        {departments.map(department => (\n                          <option key={department.id} value={department.id}>\n                            {department.name}\n                          </option>\n                        ))}\n                      </select>\n                      <small>可用院部数量: {departments.length} | 学校ID: {addTeacherForm.school_id}</small>\n                    </div>\n                    \n                    <div className=\"form-group\">\n                      <label>&nbsp;</label>\n                      <div className=\"form-help\">\n                        <p>教师账号创建后，工号、姓名、学校、院部信息不可修改</p>\n                        <p>教师只能修改自己的密码</p>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className={`form-actions ${scrollAnimations.bottomFormVisible ? 'bottom-form-visible' : ''}`}>\n                    <button \n                      className=\"submit-btn\"\n                      onClick={handleAddTeacher}\n                      disabled={loading || !addTeacherForm.job_no || !addTeacherForm.name || !addTeacherForm.password || !addTeacherForm.school_id || !addTeacherForm.department_id}\n                    >\n                      {loading ? '添加中...' : '添加教师'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n      {activeTab === 'courses' && (\n        <div className=\"tab-content\">\n          <div className=\"sub-tabs\">\n            <button \n              className={`sub-tab-btn ${activeSubTab === 'list' ? 'active' : ''}`}\n              onClick={() => setActiveSubTab('list')}\n            >\n              课程列表\n            </button>\n            <button \n              className={`sub-tab-btn ${activeSubTab === 'add' ? 'active' : ''}`}\n              onClick={() => setActiveSubTab('add')}\n            >\n              添加课程\n            </button>\n          </div>\n\n          {activeSubTab === 'list' && (\n            <div className=\"section-content\">\n              <div className=\"section-header\">\n                <h2>课程列表</h2>\n                <button \n                  className=\"add-btn\"\n                  onClick={() => setActiveSubTab('add')}\n                >\n                  添加课程\n                </button>\n              </div>\n                \n                <div className=\"courses-table\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>ID</th>\n                        <th>课程名称</th>\n                        <th>描述</th>\n                        <th>教师工号</th>\n                        <th>教师姓名</th>\n                        <th>班级</th>\n                        <th>专业</th>\n                        <th>院部</th>\n                        <th>学校</th>\n                        <th>操作</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {courses.map(course => (\n                        <tr key={course.id}>\n                          <td>{course.id}</td>\n                          <td>{course.name}</td>\n                          <td>{course.description || '-'}</td>\n                          <td>{course.teacher_username || '-'}</td>\n                          <td>{course.teacher_name || '-'}</td>\n                          <td>{course.display_class_name || course.teaching_class_name || course.class_name || '-'}</td>\n                          <td>{course.major_name || '-'}</td>\n                          <td>{course.department_name || '-'}</td>\n                          <td>{course.school_name || '-'}</td>\n                          <td>\n                            <button className=\"action-btn edit\" onClick={() => handleEditCourse(course)}>编辑</button>\n                            <button className=\"action-btn delete\" onClick={() => handleDeleteCourse(course.id)}>删除</button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n\n          {activeSubTab === 'add' && (\n            <div className=\"section-content\">\n              <div className=\"section-header\">\n                <h2>{isEditingCourse ? '✏️ 编辑课程' : '➕ 添加课程'}</h2>\n                <div className=\"header-actions\">\n                  <button \n                    className=\"debug-btn\"\n                    onClick={() => {\n                      console.log('当前状态:', { schools, departments, majors, courseForm });\n                      alert(`学校数量: ${schools.length}\\n院部数量: ${departments.length}\\n专业数量: ${majors.length}\\n选择的学校ID: ${courseForm.school_id}\\n选择的院部ID: ${courseForm.department_id}`);\n                    }}\n                  >\n                    🐛 调试信息\n                  </button>\n                  <button \n                    className=\"secondary-btn\"\n                    onClick={() => setActiveSubTab('list')}\n                  >\n                    ← 返回课程列表\n                  </button>\n                </div>\n              </div>\n                \n                <div className=\"add-course-form\">\n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>课程名称：<span className=\"required-mark\">*</span></label>\n                      <input \n                        type=\"text\" \n                        placeholder=\"请输入课程名称\"\n                        value={courseForm.name}\n                        onChange={(e) => setCourseForm(prev => ({ ...prev, name: e.target.value }))}\n                      />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                      <label>课程描述：</label>\n                      <textarea \n                        placeholder=\"请输入课程描述\"\n                        value={courseForm.description}\n                        onChange={(e) => setCourseForm(prev => ({ ...prev, description: e.target.value }))}\n                      />\n                    </div>\n                  </div>\n                  \n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>授课教师：<span className=\"required-mark\">*</span></label>\n                      <select \n                        value={courseForm.teacher_id} \n                        onChange={(e) => setCourseForm(prev => ({ ...prev, teacher_id: e.target.value }))}\n                      >\n                        <option value=\"\">请选择授课教师</option>\n                        {teachers.map(teacher => (\n                          <option key={teacher.id} value={teacher.id}>\n                            {teacher.name}（{teacher.username}）\n                          </option>\n                        ))}\n                      </select>\n                      <small>可用教师数量: {teachers.length}</small>\n                    </div>\n                  </div>\n\n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>教学班名称（自定义）：</label>\n                      <input \n                        type=\"text\" \n                        placeholder=\"例如：2024-春 数据结构(1)\"\n                        value={courseForm.teaching_class_name}\n                        onChange={(e) => setCourseForm(prev => ({ ...prev, teaching_class_name: e.target.value }))}\n                      />\n                      <small>不再从行政班中选择；此处填写教学班名</small>\n                    </div>\n                  </div>\n                  \n                  <div className=\"form-actions\">\n                    <button \n                      className=\"submit-btn\"\n                      onClick={handleCreateCourse}\n                      disabled={loading || !courseForm.name || !courseForm.teacher_id}\n                    >\n                      {loading ? (isEditingCourse ? '更新中...' : '创建中...') : (isEditingCourse ? '更新课程' : '创建课程')}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n            {activeTab === 'organization' && (\n        <div className=\"tab-content\">\n          <div className=\"section-content\">\n            <div className=\"section-header\">\n              <h2>🏛️ 组织架构管理</h2>\n              <button \n                className=\"add-btn\"\n                onClick={() => setEditingSchool({})}\n              >\n                添加组织\n              </button>\n            </div>\n            \n            {/* 组织架构树形展示 */}\n            <div className=\"organization-tree\">\n              {schools.map(school => (\n                <div key={school.id} className=\"school-node\">\n                  <div className=\"school-header\">\n                    <h3>🏫 {school.name}</h3>\n                    <div className=\"school-actions\">\n                      <button className=\"action-btn edit\" onClick={() => setEditingSchool(school)}>编辑</button>\n                      <button className=\"action-btn delete\" onClick={() => handleDeleteSchool(school.id)}>删除</button>\n                      <button className=\"action-btn add\" onClick={() => setEditingDepartment({ school_id: school.id })}>+ 添加院部</button>\n                    </div>\n                  </div>\n                  \n                  {/* 该学校下的院部（点击查看下级组织） */}\n                  {departments.filter(d => d.school_id === school.id).map(department => (\n                    <div key={department.id} className=\"department-node\">\n                      <div \n                        className=\"department-header\"\n                        onClick={() => setViewingDepartment({ ...department, school_name: school.name })}\n                        role=\"button\"\n                        title=\"点击查看该院部的下级组织\"\n                      >\n                        <h4>🏢 {department.name}</h4>\n                        <div className=\"department-actions\">\n                          <button className=\"action-btn edit\" onClick={(e) => { e.stopPropagation(); setEditingDepartment(department); }}>编辑</button>\n                          <button className=\"action-btn delete\" onClick={(e) => { e.stopPropagation(); handleDeleteDepartment(department.id); }}>删除</button>\n                          <button className=\"action-btn add\" onClick={(e) => { e.stopPropagation(); setEditingMajor({ school_id: school.id, department_id: department.id }); }}>+ 添加专业</button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {editingTeacher && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>编辑教师：{editingTeacher.name}（工号 {editingTeacher.username}）</h3>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>邮箱：</label>\n                  <input type=\"email\" value={editForm.email} onChange={(e) => setEditForm(prev => ({ ...prev, email: e.target.value }))} />\n                </div>\n                <div className=\"form-group\">\n                  <label>手机号：</label>\n                  <input type=\"tel\" value={editForm.phone} onChange={(e) => setEditForm(prev => ({ ...prev, phone: e.target.value }))} />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>学校：</label>\n                  <select value={editForm.school_id} onChange={async (e) => {\n                    const val = e.target.value;\n                    setEditForm(prev => ({ ...prev, school_id: val, department_id: '' }));\n                    if (val) {\n                      const departmentsData = await getDepartments(val);\n                      setDepartments(departmentsData);\n                    } else {\n                      setDepartments([]);\n                    }\n                  }}>\n                    <option value=\"\">请选择学校</option>\n                    {schools.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label>院部：</label>\n                  <select value={editForm.department_id} onChange={(e) => setEditForm(prev => ({ ...prev, department_id: e.target.value }))} disabled={!editForm.school_id}>\n                    <option value=\"\">请选择院部</option>\n                    {departments.filter(dept => dept.school_id === editForm.school_id).map(dept => <option key={dept.id} value={dept.id}>{dept.name}</option>)}\n                  </select>\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>启用状态：</label>\n                  <select value={editForm.is_active ? '1' : '0'} onChange={(e) => setEditForm(prev => ({ ...prev, is_active: e.target.value === '1' }))}>\n                    <option value=\"1\">启用</option>\n                    <option value=\"0\">禁用</option>\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label>重置密码（可选）：</label>\n                  <input type=\"password\" value={editForm.new_password} onChange={(e) => setEditForm(prev => ({ ...prev, new_password: e.target.value }))} />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"secondary-btn\" onClick={handleCancelEditTeacher}>取消</button>\n              <button className=\"submit-btn\" onClick={handleSaveTeacher} disabled={loading}>{loading ? '保存中...' : '保存'}</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 学校编辑模态框 */}\n      {editingSchool && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{editingSchool.id ? '编辑学校' : '添加学校'}</h3>\n              {!editingSchool.id && <p className=\"modal-subtitle\">创建新的学校</p>}\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>学校名称：<span className=\"required-mark\">*</span></label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入学校名称\"\n                    value={newSchoolForm.name}\n                    onChange={(e) => setNewSchoolForm(prev => ({ ...prev, name: e.target.value }))}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>学校代码：</label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入学校代码（可选）\"\n                    value={newSchoolForm.code}\n                    onChange={(e) => setNewSchoolForm(prev => ({ ...prev, code: e.target.value }))}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"secondary-btn\" onClick={() => setEditingSchool(null)}>取消</button>\n              <button className=\"submit-btn\" onClick={() => handleSaveSchool()} disabled={loading}>\n                {loading ? '保存中...' : '保存'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 院部编辑模态框 */}\n      {editingDepartment && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{editingDepartment.id ? '编辑院部' : '添加院部'}</h3>\n              {!editingDepartment.id && editingDepartment.school_id && (\n                <p className=\"modal-subtitle\">\n                  为学校 \"{schools.find(s => s.id == editingDepartment.school_id)?.name}\" 添加院部\n                </p>\n              )}\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>院部名称：<span className=\"required-mark\">*</span></label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入院部名称\"\n                    value={newDepartmentForm.name}\n                    onChange={(e) => setNewDepartmentForm(prev => ({ ...prev, name: e.target.value }))}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>院部代码：</label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入院部代码（可选）\"\n                    value={newDepartmentForm.code}\n                    onChange={(e) => setNewDepartmentForm(prev => ({ ...prev, code: e.target.value }))}\n                  />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>所属学校：<span className=\"required-mark\">*</span></label>\n                  <select \n                    value={newDepartmentForm.school_id} \n                    onChange={(e) => setNewDepartmentForm(prev => ({ ...prev, school_id: e.target.value }))}\n                  >\n                    <option value=\"\">请选择学校</option>\n                    {schools.map(school => (\n                      <option key={school.id} value={school.id}>\n                        {school.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"secondary-btn\" onClick={() => setEditingDepartment(null)}>取消</button>\n              <button className=\"submit-btn\" onClick={() => handleSaveDepartment()} disabled={loading}>\n                {loading ? '保存中...' : '保存'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 专业编辑模态框 */}\n      {editingMajor && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{editingMajor.id ? '编辑专业' : '添加专业'}</h3>\n              {!editingMajor.id && editingMajor.department_id && (\n                <p className=\"modal-subtitle\">\n                  为院部 \"{departments.find(d => d.id == editingMajor.department_id)?.name}\" 添加专业\n                </p>\n              )}\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>专业名称：<span className=\"required-mark\">*</span></label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入专业名称\"\n                    value={newMajorForm.name}\n                    onChange={(e) => setNewMajorForm(prev => ({ ...prev, name: e.target.value }))}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>专业代码：</label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入专业代码（可选）\"\n                    value={newMajorForm.code}\n                    onChange={(e) => setNewMajorForm(prev => ({ ...prev, code: e.target.value }))}\n                  />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>所属院部：</label>\n                  <select \n                    value={newMajorForm.department_id} \n                    onChange={(e) => setNewMajorForm(prev => ({ ...prev, department_id: e.target.value }))}\n                  >\n                    <option value=\"\">请选择院部（可选）</option>\n                    {departments.map(department => (\n                      <option key={department.id} value={department.id}>\n                        {department.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label>所属学校：<span className=\"required-mark\">*</span></label>\n                  <select \n                    value={newMajorForm.school_id} \n                    onChange={(e) => setNewMajorForm(prev => ({ ...prev, school_id: e.target.value }))}\n                  >\n                    <option value=\"\">请选择学校</option>\n                    {schools.map(school => (\n                      <option key={school.id} value={school.id}>\n                        {school.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"secondary-btn\" onClick={() => setEditingMajor(null)}>取消</button>\n              <button className=\"submit-btn\" onClick={() => handleSaveMajor()} disabled={loading}>\n                {loading ? '保存中...' : '保存'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 班级编辑模态框 */}\n      {editingClass && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{editingClass.id ? '编辑班级' : '添加班级'}</h3>\n              {!editingClass.id && editingClass.major_id && (\n                <p className=\"modal-subtitle\">\n                  为专业 \"{majors.find(m => m.id == editingClass.major_id)?.name}\" 添加班级\n                </p>\n              )}\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>班级名称：<span className=\"required-mark\">*</span></label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入班级名称\"\n                    value={newClassForm.name}\n                    onChange={(e) => setNewClassForm(prev => ({ ...prev, name: e.target.value }))}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>年级：</label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"请输入年级（可选）\"\n                    value={newClassForm.grade}\n                    onChange={(e) => setNewClassForm(prev => ({ ...prev, grade: e.target.value }))}\n                  />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>所属专业：</label>\n                  <select \n                    value={newClassForm.major_id} \n                    onChange={(e) => setNewClassForm(prev => ({ ...prev, major_id: e.target.value }))}\n                  >\n                    <option value=\"\">请选择专业（可选）</option>\n                    {majors.map(major => (\n                      <option key={major.id} value={major.id}>\n                        {major.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label>所属院部：</label>\n                  <select \n                    value={newClassForm.department_id} \n                    onChange={(e) => setNewClassForm(prev => ({ ...prev, department_id: e.target.value }))}\n                  >\n                    <option value=\"\">请选择院部（可选）</option>\n                    {departments.map(department => (\n                      <option key={department.id} value={department.id}>\n                        {department.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"secondary-btn\" onClick={() => setEditingClass(null)}>取消</button>\n              <button className=\"submit-btn\" onClick={() => handleSaveClass()} disabled={loading}>\n                {loading ? '保存中...' : '保存'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 院部下级组织查看模态框 */}\n      {viewingDepartment && (\n        <div className={`modal-overlay ${isClosingModal ? 'closing' : ''}`} onClick={handleCloseModal}>\n          <div className=\"modal wide\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>院部下级组织：{viewingDepartment.name}</h3>\n              <p className=\"modal-subtitle\">所属学校：{viewingDepartment.school_name || '-'} | 院部ID：{viewingDepartment.id}</p>\n            </div>\n            <div className=\"modal-body\">\n              {(() => {\n                const deptMajors = majors.filter(m => m.department_id == viewingDepartment.id);\n                if (deptMajors.length === 0) {\n                  return <p>暂无专业。</p>;\n                }\n                return (\n                  <div className=\"dept-children\">\n                    {deptMajors.map(m => {\n                      const majorClasses = classes.filter(c => c.major_id == m.id);\n                      return (\n                        <div key={m.id} className=\"dept-major-block\">\n                          <div className=\"dept-major-header\">📚 {m.name}（ID: {m.id}）<span className=\"count\">班级数：{majorClasses.length}</span></div>\n                          {majorClasses.length > 0 ? (\n                            <ul className=\"dept-class-list\">\n                              {majorClasses.map(c => (\n                                <li key={c.id} className=\"class-item\">\n                                  <span className=\"class-info\">👥 {c.name}（ID: {c.id}）</span>\n                                  <button \n                                    className=\"delete-class-btn\"\n                                    onClick={() => handleDeleteClassFromModal(c.id, c.name)}\n                                    disabled={loading}\n                                    title={`删除班级\"${c.name}\"`}\n                                  >\n                                    🗑️\n                                  </button>\n                                </li>\n                              ))}\n                            </ul>\n                          ) : (\n                            <div className=\"empty\">该专业暂无班级</div>\n                          )}\n                          \n                          {/* 添加班级按钮 */}\n                          <div className=\"dept-major-actions\">\n                            <button \n                              className=\"add-class-btn\"\n                              onClick={() => handleAddClassForMajor(m)}\n                              disabled={addingClassForMajor?.id === m.id}\n                            >\n                              {addingClassForMajor?.id === m.id ? '添加中...' : '➕ 添加班级'}\n                            </button>\n                          </div>\n\n                          {/* 添加班级表单 */}\n                          {addingClassForMajor?.id === m.id && (\n                            <div className=\"add-class-form\">\n                              <div className=\"form-row\">\n                                <div className=\"form-group\">\n                                  <label>班级名称：<span className=\"required-mark\">*</span></label>\n                                  <input \n                                    type=\"text\" \n                                    placeholder=\"请输入班级名称\"\n                                    value={newClassForm.name}\n                                    onChange={(e) => setNewClassForm(prev => ({ ...prev, name: e.target.value }))}\n                                  />\n                                </div>\n                                <div className=\"form-group\">\n                                  <label>年级：</label>\n                                  <input \n                                    type=\"text\" \n                                    placeholder=\"请输入年级（可选）\"\n                                    value={newClassForm.grade}\n                                    onChange={(e) => setNewClassForm(prev => ({ ...prev, grade: e.target.value }))}\n                                  />\n                                </div>\n                              </div>\n                              <div className=\"form-actions\">\n                                <button \n                                  className=\"secondary-btn small\"\n                                  onClick={() => setAddingClassForMajor(null)}\n                                >\n                                  取消\n                                </button>\n                                <button \n                                  className=\"submit-btn small\"\n                                  onClick={handleSaveClassForMajor}\n                                  disabled={loading || !newClassForm.name.trim()}\n                                >\n                                  {loading ? '保存中...' : '保存'}\n                                </button>\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n                );\n              })()}\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"secondary-btn\" onClick={handleCloseModal}>关闭</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n    </div>\n  );\n};\n\nexport default AdminDashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}