{"ast":null,"code":"import _objectSpread from\"/Volumes/\\u575E\\u57CE/Judger_1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{getUsers,getSchools,getMajors,getClasses,batchImportStudents,getProblems,createProblem,updateProblem,deleteProblem,updateUser,deleteUser,registerStudent,getTeacherCourses,createCourse,updateCourse,deleteCourse,getCourseAssignments,createAssignment,updateAssignment,deleteAssignment}from'../services/api';import'./TeacherDashboardPage.css';import AIProblemGenerationPage from'./AIProblemGenerationPage';import{mockCourses,mockAssignments,formatDate}from'../testData/courses';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TeacherDashboardPage=()=>{const[activeTab,setActiveTab]=useState('students');const[activeSubTab,setActiveSubTab]=useState('list');// 子标签页\nconst[users,setUsers]=useState([]);const[problems,setProblems]=useState([]);const[schools,setSchools]=useState([]);const[majors,setMajors]=useState([]);const[classes,setClasses]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// 批量导入相关状态\nconst[importData,setImportData]=useState('');const[selectedSchool,setSelectedSchool]=useState('');const[selectedMajor,setSelectedMajor]=useState('');const[selectedClass,setSelectedClass]=useState('');// 手动创建题目相关状态\nconst[problemForm,setProblemForm]=useState({title:'',description:'',test_cases:'',expected_output:'',difficulty:'easy',time_limit:1000,memory_limit:128});// 编辑题目状态\nconst[editingProblem,setEditingProblem]=useState(null);const[isEditing,setIsEditing]=useState(false);// 添加学生相关状态（按新规则：学号、姓名、密码必填）\nconst[addStudentForm,setAddStudentForm]=useState({student_no:'',name:'',password:'',email:'',phone:'',school_id:'',major_id:'',class_id:''});// 学生编辑相关状态\nconst[editingUser,setEditingUser]=useState(null);const[editForm,setEditForm]=useState({email:'',phone:'',school_id:'',major_id:'',class_id:'',new_password:''});// 课程相关状态\nconst[courses,setCourses]=useState([]);const[courseForm,setCourseForm]=useState({name:'',description:'',class_id:'',major_id:'',school_id:''});// 作业相关状态\nconst[assignments,setAssignments]=useState([]);const[assignmentForm,setAssignmentForm]=useState({name:'',description:'',requirements:'',due_date:'',course_id:'',problem_ids:[]});// 编辑课程状态\nconst[editingCourse,setEditingCourse]=useState(null);const[isEditingCourse,setIsEditingCourse]=useState(false);// 编辑作业状态\nconst[editingAssignment,setEditingAssignment]=useState(null);const[isEditingAssignment,setIsEditingAssignment]=useState(false);useEffect(()=>{fetchInitialData();},[]);const fetchInitialData=async()=>{try{setLoading(true);setError('');setSuccess('');const[schoolsData,usersData,problemsData]=await Promise.all([getSchools(),getUsers(1,50,'student'),getProblems(1,50)]);setSchools(schoolsData);setUsers(usersData.users);setProblems(problemsData.problems);// 获取课程和作业数据（使用测试数据）\ntry{const[coursesData,assignmentsData]=await Promise.all([getTeacherCourses(),getCourseAssignments()]);setCourses(coursesData.courses||mockCourses);setAssignments(assignmentsData.assignments||mockAssignments);}catch(error){console.warn('获取课程或作业数据失败，使用测试数据:',error);setCourses(mockCourses);setAssignments(mockAssignments);}}catch(error){var _error$response,_error$response$data;setError((error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'获取数据失败');console.error('Error fetching data:',error);}finally{setLoading(false);}};const handleSchoolChange=async schoolId=>{setSelectedSchool(schoolId);setSelectedMajor('');setSelectedClass('');if(schoolId){try{const majorsData=await getMajors(schoolId);setMajors(majorsData);}catch(error){console.error('Error fetching majors:',error);}}else{setMajors([]);}};const handleMajorChange=async majorId=>{setSelectedMajor(majorId);setSelectedClass('');if(majorId){try{const classesData=await getClasses(majorId);setClasses(classesData);}catch(error){console.error('Error fetching classes:',error);}}else{setClasses([]);}};const handleBatchImport=async()=>{if(!importData.trim()){setError('请输入要导入的学生数据');setSuccess('');return;}if(!selectedSchool||!selectedMajor||!selectedClass){setError('请选择学校、专业和班级');setSuccess('');return;}// 解析CSV数据为学生对象数组\nconst lines=importData.split(/\\r?\\n/).map(l=>l.trim()).filter(l=>l&&!/^\\s*#/.test(l));const students=[];for(const line of lines){const parts=line.split(',').map(s=>s.trim());if(parts.length<3)continue;// 至少: 学号,姓名,密码\nconst[studentNo,name,password,email,phone]=parts;students.push({username:studentNo,name,password,email:email||undefined,phone:phone||undefined,school_id:selectedSchool,major_id:selectedMajor,class_id:selectedClass,role:'student'});}if(students.length===0){setError('没有有效的学生数据行。请按 CSV: 学号,姓名,密码[,邮箱][,手机号]');setSuccess('');return;}try{var _resp$success_count,_resp$failed_count;setLoading(true);setError('');setSuccess('');const resp=await batchImportStudents({students});const msg=(resp===null||resp===void 0?void 0:resp.message)||\"\\u6279\\u91CF\\u5BFC\\u5165\\u5B8C\\u6210: \\u6210\\u529F \".concat((_resp$success_count=resp===null||resp===void 0?void 0:resp.success_count)!==null&&_resp$success_count!==void 0?_resp$success_count:students.length,\" \\u4E2A, \\u5931\\u8D25 \").concat((_resp$failed_count=resp===null||resp===void 0?void 0:resp.failed_count)!==null&&_resp$failed_count!==void 0?_resp$failed_count:0,\" \\u4E2A\");setSuccess(msg);if(resp!==null&&resp!==void 0&&resp.errors&&resp.errors.length>0){const preview=resp.errors.slice(0,5).join('；');setError(\"\\u90E8\\u5206\\u5BFC\\u5165\\u5931\\u8D25\\uFF1A\".concat(preview).concat(resp.errors.length>5?' 等':''));}// 刷新用户列表\nconst usersData=await getUsers(1,50,'student');setUsers(usersData.users);setImportData('');}catch(error){var _error$response2,_error$response2$data;setError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'批量导入失败');}finally{setLoading(false);}};const handleCreateProblem=async()=>{try{setLoading(true);setError('');setSuccess('');if(isEditing&&editingProblem){await updateProblem(editingProblem.id,problemForm);setSuccess('题目更新成功！');}else{await createProblem(problemForm);setSuccess('题目创建成功！');}// 重置表单\nsetProblemForm({title:'',description:'',test_cases:'',expected_output:'',difficulty:'easy',time_limit:1000,memory_limit:128});setIsEditing(false);setEditingProblem(null);// 刷新题目列表\nconst problemsData=await getProblems(1,50);setProblems(problemsData.problems);// 切换到题目列表\nsetActiveSubTab('list');}catch(error){var _error$response3,_error$response3$data;setError(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||(isEditing?'更新题目失败':'创建题目失败'));}finally{setLoading(false);}};const handleEditProblem=problem=>{setEditingProblem(problem);setProblemForm({title:problem.title,description:problem.description,test_cases:problem.test_cases,expected_output:problem.expected_output,difficulty:problem.difficulty,time_limit:problem.time_limit,memory_limit:problem.memory_limit});setIsEditing(true);setActiveSubTab('create');};const handleDeleteProblem=async problemId=>{if(!window.confirm('确定要删除这个题目吗？此操作不可恢复。')){return;}try{setLoading(true);setError('');setSuccess('');await deleteProblem(problemId);setSuccess('题目删除成功！');// 刷新题目列表\nconst problemsData=await getProblems(1,50);setProblems(problemsData.problems);}catch(error){var _error$response4,_error$response4$data;setError(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'删除题目失败');}finally{setLoading(false);}};const handleCancelEdit=()=>{setIsEditing(false);setEditingProblem(null);setProblemForm({title:'',description:'',test_cases:'',expected_output:'',difficulty:'easy',time_limit:1000,memory_limit:128});setActiveSubTab('list');};// 学生管理标签页渲染函数\nconst renderStudentsTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='list'?'active':''),onClick:()=>setActiveSubTab('list'),children:\"\\u5B66\\u751F\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='add'?'active':''),onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u5B66\\u751F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='import'?'active':''),onClick:()=>setActiveSubTab('import'),children:\"\\u6279\\u91CF\\u5BFC\\u5165\"})]}),activeSubTab==='list'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u5B66\\u751F\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u5B66\\u751F\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u5B66\\u53F7\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u90AE\\u7BB1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u73ED\\u7EA7\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email||'-'}),/*#__PURE__*/_jsx(\"td\",{children:user.class_id||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(user.is_active?'active':'inactive'),children:user.is_active?'活跃':'禁用'})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:()=>handleEditStudentClick(user),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDeleteStudent(user.id),children:\"\\u5220\\u9664\"})]})]},user.id))})]})})]}),activeSubTab==='add'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2795 \\u6DFB\\u52A0\\u5B66\\u751F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setActiveSubTab('list'),children:\"\\u2190 \\u8FD4\\u56DE\\u5B66\\u751F\\u5217\\u8868\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-student-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u5B66\\u53F7\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"required-text\",children:\"\\u5FC5\\u586B\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5B66\\u53F7\",value:addStudentForm.student_no,onChange:e=>setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{student_no:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u5BC6\\u7801\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"required-text\",children:\"\\u5FC5\\u586B\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",value:addStudentForm.password,onChange:e=>setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u59D3\\u540D\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"required-text\",children:\"\\u5FC5\\u586B\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5B66\\u751F\\u59D3\\u540D\",value:addStudentForm.name,onChange:e=>setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u90AE\\u7BB1\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u90AE\\u7BB1\\u5730\\u5740\",value:addStudentForm.email,onChange:e=>setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u624B\\u673A\\u53F7\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\",value:addStudentForm.phone,onChange:e=>setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5B66\\u6821\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:addStudentForm.school_id,onChange:e=>handleAddStudentSchoolChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(school=>/*#__PURE__*/_jsx(\"option\",{value:school.id,children:school.name},school.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u4E13\\u4E1A\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:addStudentForm.major_id,onChange:e=>handleAddStudentMajorChange(e.target.value),disabled:!addStudentForm.school_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u4E13\\u4E1A\"}),majors.map(major=>/*#__PURE__*/_jsx(\"option\",{value:major.id,children:major.name},major.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u73ED\\u7EA7\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:addStudentForm.class_id,onChange:e=>setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{class_id:e.target.value})),disabled:!addStudentForm.major_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u73ED\\u7EA7\"}),classes.map(classItem=>/*#__PURE__*/_jsx(\"option\",{value:classItem.id,children:classItem.name},classItem.id))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleAddStudent,disabled:loading||!addStudentForm.student_no||!addStudentForm.name||!addStudentForm.password,children:loading?'添加中...':'添加学生'})})]})]}),activeSubTab==='import'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCE5 \\u6279\\u91CF\\u5BFC\\u5165\\u5B66\\u751F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>setActiveSubTab('list'),children:\"\\u2190 \\u8FD4\\u56DE\\u5B66\\u751F\\u5217\\u8868\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"import-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9009\\u62E9\\u5B66\\u6821:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedSchool,onChange:e=>handleSchoolChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(school=>/*#__PURE__*/_jsx(\"option\",{value:school.id,children:school.name},school.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9009\\u62E9\\u4E13\\u4E1A:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedMajor,onChange:e=>handleMajorChange(e.target.value),disabled:!selectedSchool,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u4E13\\u4E1A\"}),majors.map(major=>/*#__PURE__*/_jsx(\"option\",{value:major.id,children:major.name},major.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9009\\u62E9\\u73ED\\u7EA7:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedClass,onChange:e=>setSelectedClass(e.target.value),disabled:!selectedMajor,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u73ED\\u7EA7\"}),classes.map(classItem=>/*#__PURE__*/_jsx(\"option\",{value:classItem.id,children:classItem.name},classItem.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5B66\\u751F\\u6570\\u636E (CSV\\u683C\\u5F0F):\"}),/*#__PURE__*/_jsx(\"textarea\",{value:importData,onChange:e=>setImportData(e.target.value),placeholder:\"\\u5B66\\u53F7,\\u59D3\\u540D,\\u5BC6\\u7801,\\u90AE\\u7BB1,\\u624B\\u673A\\u53F7\\n2021001,\\u5F20\\u4E09,123456,zhangsan@example.com,13800138001\\n2021002,\\u674E\\u56DB,123456,lisi@example.com,13800138002\",rows:10}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-help\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"CSV\\u683C\\u5F0F\\u8BF4\\u660E\\uFF1A\\u6BCF\\u884C\\u4E00\\u4E2A\\u5B66\\u751F\\uFF0C\\u5B57\\u6BB5\\u7528\\u9017\\u53F7\\u5206\\u9694\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u5FC5\\u586B\\u5B57\\u6BB5\\uFF1A\\u5B66\\u53F7,\\u59D3\\u540D,\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u53EF\\u9009\\u5B57\\u6BB5\\uFF1A\\u90AE\\u7BB1,\\u624B\\u673A\\u53F7\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleBatchImport,disabled:loading||!importData.trim()||!selectedSchool||!selectedMajor||!selectedClass,children:loading?'导入中...':'开始导入'})})]})]})]});// 题目管理标签页渲染函数\nconst renderProblemsTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='list'?'active':''),onClick:()=>setActiveSubTab('list'),children:\"\\u9898\\u76EE\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='create'?'active':''),onClick:()=>setActiveSubTab('create'),children:isEditing?'编辑题目':'创建题目'}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='ai'?'active':''),onClick:()=>setActiveSubTab('ai'),children:\"\\uD83E\\uDD16 AI\\u751F\\u9898\"})]}),activeSubTab==='list'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u9898\\u76EE\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>{setIsEditing(false);setEditingProblem(null);setActiveSubTab('create');},children:\"\\u521B\\u5EFA\\u9898\\u76EE\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"problems-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u6807\\u9898\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u96BE\\u5EA6\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u65F6\\u95F4\\u9650\\u5236\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u5185\\u5B58\\u9650\\u5236\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:problems.map(problem=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:problem.id}),/*#__PURE__*/_jsx(\"td\",{children:problem.title}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"difficulty-badge \".concat(problem.difficulty),children:problem.difficulty==='easy'?'简单':problem.difficulty==='medium'?'中等':'困难'})}),/*#__PURE__*/_jsxs(\"td\",{children:[problem.time_limit,\"ms\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[problem.memory_limit,\"MB\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(problem.is_active?'active':'inactive'),children:problem.is_active?'启用':'禁用'})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:()=>handleEditProblem(problem),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDeleteProblem(problem.id),children:\"\\u5220\\u9664\"})]})]},problem.id))})]})})]}),activeSubTab==='create'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isEditing?'✏️ 编辑题目':'➕ 创建题目'}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleCancelEdit,children:\"\\u2190 \\u8FD4\\u56DE\\u9898\\u76EE\\u5217\\u8868\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"problem-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9898\\u76EE\\u6807\\u9898\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u9898\\u76EE\\u6807\\u9898\",value:problemForm.title,onChange:e=>setProblemForm(prev=>_objectSpread(_objectSpread({},prev),{},{title:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u96BE\\u5EA6\\u7B49\\u7EA7\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:problemForm.difficulty,onChange:e=>setProblemForm(prev=>_objectSpread(_objectSpread({},prev),{},{difficulty:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"\\u7B80\\u5355\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"\\u4E2D\\u7B49\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hard\",children:\"\\u56F0\\u96BE\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u65F6\\u95F4\\u9650\\u5236 (ms)\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"1000\",value:problemForm.time_limit,onChange:e=>setProblemForm(prev=>_objectSpread(_objectSpread({},prev),{},{time_limit:parseInt(e.target.value)})),min:\"100\",max:\"10000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5185\\u5B58\\u9650\\u5236 (MB)\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"128\",value:problemForm.memory_limit,onChange:e=>setProblemForm(prev=>_objectSpread(_objectSpread({},prev),{},{memory_limit:parseInt(e.target.value)})),min:\"16\",max:\"1024\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9898\\u76EE\\u63CF\\u8FF0\\uFF1A\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8BF7\\u8F93\\u5165\\u9898\\u76EE\\u7684\\u8BE6\\u7EC6\\u63CF\\u8FF0\",value:problemForm.description,onChange:e=>setProblemForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),rows:6})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u6D4B\\u8BD5\\u7528\\u4F8B\\uFF1A\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8BF7\\u8F93\\u5165\\u6D4B\\u8BD5\\u7528\\u4F8B\",value:problemForm.test_cases,onChange:e=>setProblemForm(prev=>_objectSpread(_objectSpread({},prev),{},{test_cases:e.target.value})),rows:4})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u671F\\u671B\\u8F93\\u51FA\\uFF1A\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8BF7\\u8F93\\u5165\\u671F\\u671B\\u7684\\u8F93\\u51FA\\u7ED3\\u679C\",value:problemForm.expected_output,onChange:e=>setProblemForm(prev=>_objectSpread(_objectSpread({},prev),{},{expected_output:e.target.value})),rows:4})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleCreateProblem,disabled:loading||!problemForm.title||!problemForm.description||!problemForm.test_cases||!problemForm.expected_output,children:loading?isEditing?'更新中...':'创建中...':isEditing?'更新题目':'创建题目'})})]})]}),activeSubTab==='ai'&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsx(AIProblemGenerationPage,{})})]});// 课程管理标签页渲染函数\nconst renderCoursesTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='list'?'active':''),onClick:()=>setActiveSubTab('list'),children:\"\\u8BFE\\u7A0B\\u5217\\u8868\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='add'?'active':''),onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u8BFE\\u7A0B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sub-tab-btn \".concat(activeSubTab==='assignments'?'active':''),onClick:()=>setActiveSubTab('assignments'),children:\"\\u4F5C\\u4E1A\\u7BA1\\u7406\"})]}),activeSubTab==='list'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6211\\u7684\\u8BFE\\u7A0B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u8BFE\\u7A0B\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"courses-grid\",children:courses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u6682\\u65E0\\u8BFE\\u7A0B\\uFF0C\\u8BF7\\u6DFB\\u52A0\\u60A8\\u7684\\u7B2C\\u4E00\\u4E2A\\u6559\\u5B66\\u73ED\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:()=>setActiveSubTab('add'),children:\"\\u6DFB\\u52A0\\u8BFE\\u7A0B\"})]}):courses.map(course=>/*#__PURE__*/_jsxs(\"div\",{className:\"course-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"course-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:course.name}),/*#__PURE__*/_jsx(\"span\",{className:\"course-status active\",children:\"\\u8FDB\\u884C\\u4E2D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u6559\\u5B66\\u73ED\\uFF1A\"}),course.class_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4E13\\u4E1A\\uFF1A\"}),course.major_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u5B66\\u6821\\uFF1A\"}),course.school_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u5B66\\u751F\\u6570\\u91CF\\uFF1A\"}),course.student_count||0,\"\\u4EBA\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u521B\\u5EFA\\u65F6\\u95F4\\uFF1A\"}),formatDate(course.created_at)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn primary\",onClick:()=>handleViewCourseDetail(course.id),children:\"\\u67E5\\u770B\\u8BE6\\u60C5\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:()=>handleEditCourse(course),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDeleteCourse(course.id),children:\"\\u5220\\u9664\"})]})]},course.id))})]}),activeSubTab==='add'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isEditingCourse?'✏️ 编辑课程':'➕ 添加课程'}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>{setActiveSubTab('list');setIsEditingCourse(false);setEditingCourse(null);setCourseForm({name:'',description:'',class_id:'',major_id:'',school_id:''});},children:\"\\u2190 \\u8FD4\\u56DE\\u8BFE\\u7A0B\\u5217\\u8868\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u8BFE\\u7A0B\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u8BFE\\u7A0B\\u540D\\u79F0\",value:courseForm.name,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8BFE\\u7A0B\\u63CF\\u8FF0\\uFF1A\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8BF7\\u8F93\\u5165\\u8BFE\\u7A0B\\u63CF\\u8FF0\",value:courseForm.description,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),rows:3})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u5B66\\u6821\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:courseForm.school_id,onChange:e=>handleCourseSchoolChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(school=>/*#__PURE__*/_jsx(\"option\",{value:school.id,children:school.name},school.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u4E13\\u4E1A\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:courseForm.major_id,onChange:e=>handleCourseMajorChange(e.target.value),disabled:!courseForm.school_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u4E13\\u4E1A\"}),majors.map(major=>/*#__PURE__*/_jsx(\"option\",{value:major.id,children:major.name},major.id))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u6559\\u5B66\\u73ED\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:courseForm.class_id,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{class_id:e.target.value})),disabled:!courseForm.major_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u6559\\u5B66\\u73ED\"}),classes.map(classItem=>/*#__PURE__*/_jsx(\"option\",{value:classItem.id,children:classItem.name},classItem.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleCreateCourse,disabled:loading||!courseForm.name||!courseForm.school_id||!courseForm.major_id||!courseForm.class_id,children:loading?isEditingCourse?'更新中...':'创建中...':isEditingCourse?'更新课程':'创建课程'})})]})]}),activeSubTab==='assignments'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCDA \\u4F5C\\u4E1A\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>setActiveSubTab('create-assignment'),children:\"\\u5E03\\u7F6E\\u4F5C\\u4E1A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"assignments-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u4F5C\\u4E1A\\u540D\\u79F0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u8BFE\\u7A0B\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u622A\\u6B62\\u65F6\\u95F4\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:assignments.map(assignment=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:assignment.name}),/*#__PURE__*/_jsx(\"td\",{children:assignment.course_name}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(assignment.due_date)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(assignment.is_active?'active':'inactive'),children:assignment.is_active?'进行中':'已结束'})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit\",onClick:()=>handleEditAssignment(assignment),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDeleteAssignment(assignment.id),children:\"\\u5220\\u9664\"})]})]},assignment.id))})]})})]}),activeSubTab==='create-assignment'&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isEditingAssignment?'✏️ 编辑作业':'📝 布置作业'}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:()=>{setActiveSubTab('assignments');setIsEditingAssignment(false);setEditingAssignment(null);setAssignmentForm({name:'',description:'',requirements:'',due_date:'',course_id:'',problem_ids:[]});},children:\"\\u2190 \\u8FD4\\u56DE\\u4F5C\\u4E1A\\u7BA1\\u7406\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"assignment-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u4F5C\\u4E1A\\u540D\\u79F0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4F5C\\u4E1A\\u540D\\u79F0\",value:assignmentForm.name,onChange:e=>setAssignmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u8BFE\\u7A0B\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:assignmentForm.course_id,onChange:e=>setAssignmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{course_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u8BFE\\u7A0B\"}),courses.map(course=>/*#__PURE__*/_jsxs(\"option\",{value:course.id,children:[course.name,\" - \",course.class_name]},course.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u4F5C\\u4E1A\\u63CF\\u8FF0\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8BF7\\u8F93\\u5165\\u4F5C\\u4E1A\\u63CF\\u8FF0\",value:assignmentForm.description,onChange:e=>setAssignmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),rows:4})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u4F5C\\u4E1A\\u8981\\u6C42\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8BF7\\u8F93\\u5165\\u4F5C\\u4E1A\\u8981\\u6C42\",value:assignmentForm.requirements,onChange:e=>setAssignmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{requirements:e.target.value})),rows:4})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u622A\\u6B62\\u65F6\\u95F4\\uFF1A\",/*#__PURE__*/_jsx(\"span\",{className:\"required-mark\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:assignmentForm.due_date,onChange:e=>setAssignmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{due_date:e.target.value}))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9009\\u62E9\\u9898\\u76EE\\uFF1A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"problem-selection\",children:problems.map(problem=>/*#__PURE__*/_jsxs(\"label\",{className:\"problem-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:problem.id,checked:assignmentForm.problem_ids.includes(problem.id),onChange:e=>{if(e.target.checked){setAssignmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{problem_ids:[...prev.problem_ids,problem.id]}));}else{setAssignmentForm(prev=>_objectSpread(_objectSpread({},prev),{},{problem_ids:prev.problem_ids.filter(id=>id!==problem.id)}));}}}),/*#__PURE__*/_jsx(\"span\",{className:\"problem-title\",children:problem.title}),/*#__PURE__*/_jsx(\"span\",{className:\"difficulty-badge \".concat(problem.difficulty),children:problem.difficulty==='easy'?'简单':problem.difficulty==='medium'?'中等':'困难'})]},problem.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleCreateAssignment,disabled:loading||!assignmentForm.name||!assignmentForm.description||!assignmentForm.requirements||!assignmentForm.due_date||!assignmentForm.course_id,children:loading?isEditingAssignment?'更新中...':'创建中...':isEditingAssignment?'更新作业':'布置作业'})})]})]})]});// 处理添加学生时的学校选择变化\nconst handleAddStudentSchoolChange=async schoolId=>{setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:schoolId,major_id:'',class_id:''}));if(schoolId){try{const majorsData=await getMajors(schoolId);setMajors(majorsData);}catch(error){console.error('Error fetching majors:',error);}}else{setMajors([]);}};// 处理添加学生时的专业选择变化\nconst handleAddStudentMajorChange=async majorId=>{setAddStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{major_id:majorId,class_id:''}));if(majorId){try{const classesData=await getClasses(majorId);setClasses(classesData);}catch(error){console.error('Error fetching classes:',error);}}else{setClasses([]);}};// 处理添加学生\nconst handleAddStudent=async()=>{try{setLoading(true);setError('');setSuccess('');await registerStudent(addStudentForm);setSuccess('学生添加成功！');// 重置表单\nsetAddStudentForm({student_no:'',name:'',password:'',email:'',phone:'',school_id:'',major_id:'',class_id:''});// 刷新用户列表\nconst usersData=await getUsers(1,50,'student');setUsers(usersData.users);// 切换到学生列表\nsetActiveSubTab('list');}catch(error){var _error$response5,_error$response5$data;setError(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'添加学生失败');}finally{setLoading(false);}};// 学生编辑/删除相关\nconst handleEditStudentClick=user=>{setEditingUser(user);setEditForm({email:user.email||'',phone:user.phone||'',school_id:user.school_id||'',major_id:user.major_id||'',class_id:user.class_id||'',new_password:''});setError('');setSuccess('');};const handleSaveStudent=async()=>{if(!editingUser)return;try{setLoading(true);setError('');setSuccess('');await updateUser(editingUser.id,editForm);setSuccess('学生信息已更新');// 刷新列表\nconst usersData=await getUsers(1,50,'student');setUsers(usersData.users);setEditingUser(null);}catch(error){var _error$response6,_error$response6$data;setError(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||'更新学生信息失败');}finally{setLoading(false);}};const handleCancelEditStudent=()=>{setEditingUser(null);setEditForm({email:'',phone:'',school_id:'',major_id:'',class_id:'',new_password:''});};const handleDeleteStudent=async userId=>{if(!window.confirm('确定要删除该学生吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteUser(userId);setSuccess('学生已删除');const usersData=await getUsers(1,50,'student');setUsers(usersData.users);}catch(error){var _error$response7,_error$response7$data;setError(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||'删除学生失败');}finally{setLoading(false);}};// 课程相关处理函数\nconst handleCourseSchoolChange=async schoolId=>{setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:schoolId,major_id:'',class_id:''}));if(schoolId){try{const majorsData=await getMajors(schoolId);setMajors(majorsData);}catch(error){console.error('Error fetching majors:',error);}}else{setMajors([]);}};const handleCourseMajorChange=async majorId=>{setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{major_id:majorId,class_id:''}));if(majorId){try{const classesData=await getClasses(majorId);setClasses(classesData);}catch(error){console.error('Error fetching classes:',error);}}else{setClasses([]);}};const handleCreateCourse=async()=>{try{setLoading(true);setError('');setSuccess('');if(isEditingCourse&&editingCourse){await updateCourse(editingCourse.id,courseForm);setSuccess('课程更新成功！');}else{await createCourse(courseForm);setSuccess('课程创建成功！');}// 重置表单\nsetCourseForm({name:'',description:'',class_id:'',major_id:'',school_id:''});setIsEditingCourse(false);setEditingCourse(null);// 刷新课程列表\nconst coursesData=await getTeacherCourses();setCourses(coursesData.courses||[]);// 切换到课程列表\nsetActiveSubTab('list');}catch(error){var _error$response8,_error$response8$data;setError(((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.error)||(isEditingCourse?'更新课程失败':'创建课程失败'));}finally{setLoading(false);}};const handleEditCourse=course=>{setEditingCourse(course);setCourseForm({name:course.name,description:course.description||'',school_id:course.school_id||'',major_id:course.major_id||'',class_id:course.class_id||''});setIsEditingCourse(true);setActiveSubTab('add');};const handleDeleteCourse=async courseId=>{if(!window.confirm('确定要删除该课程吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteCourse(courseId);setSuccess('课程已删除');// 刷新课程列表\nconst coursesData=await getTeacherCourses();setCourses(coursesData.courses||[]);}catch(error){var _error$response9,_error$response9$data;setError(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.error)||'删除课程失败');}finally{setLoading(false);}};const handleViewCourseDetail=courseId=>{// TODO: 实现查看课程详情的功能\nconsole.log('查看课程详情:',courseId);};// 作业相关处理函数\nconst handleCreateAssignment=async()=>{try{setLoading(true);setError('');setSuccess('');if(isEditingAssignment&&editingAssignment){await updateAssignment(editingAssignment.id,assignmentForm);setSuccess('作业更新成功！');}else{await createAssignment(assignmentForm);setSuccess('作业布置成功！');}// 重置表单\nsetAssignmentForm({name:'',description:'',requirements:'',due_date:'',course_id:'',problem_ids:[]});setIsEditingAssignment(false);setEditingAssignment(null);// 刷新作业列表\nconst assignmentsData=await getCourseAssignments();setAssignments(assignmentsData.assignments||[]);// 切换到作业管理\nsetActiveSubTab('assignments');}catch(error){var _error$response0,_error$response0$data;setError(((_error$response0=error.response)===null||_error$response0===void 0?void 0:(_error$response0$data=_error$response0.data)===null||_error$response0$data===void 0?void 0:_error$response0$data.error)||(isEditingAssignment?'更新作业失败':'布置作业失败'));}finally{setLoading(false);}};const handleEditAssignment=assignment=>{setEditingAssignment(assignment);setAssignmentForm({name:assignment.name,description:assignment.description||'',requirements:assignment.requirements||'',due_date:assignment.due_date||'',course_id:assignment.course_id||'',problem_ids:assignment.problem_ids||[]});setIsEditingAssignment(true);setActiveSubTab('create-assignment');};const handleDeleteAssignment=async assignmentId=>{if(!window.confirm('确定要删除该作业吗？此操作不可恢复。'))return;try{setLoading(true);setError('');setSuccess('');await deleteAssignment(assignmentId);setSuccess('作业已删除');// 刷新作业列表\nconst assignmentsData=await getCourseAssignments();setAssignments(assignmentsData.assignments||[]);}catch(error){var _error$response1,_error$response1$data;setError(((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.error)||'删除作业失败');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"teacher-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\u6559\\u5E08\\u7BA1\\u7406\\u63A7\\u5236\\u53F0\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='students'?'active':''),onClick:()=>{setActiveTab('students');setActiveSubTab('list');},children:\"\\u5B66\\u751F\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='problems'?'active':''),onClick:()=>{setActiveTab('problems');setActiveSubTab('list');},children:\"\\u9898\\u76EE\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='courses'?'active':''),onClick:()=>{setActiveTab('courses');setActiveSubTab('list');},children:\"\\u6211\\u7684\\u8BFE\\u7A0B\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),activeTab==='students'&&/*#__PURE__*/_jsxs(_Fragment,{children:[renderStudentsTab(),editingUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u7F16\\u8F91\\u5B66\\u751F\\uFF1A\",editingUser.name,\"\\uFF08\\u5B66\\u53F7\",editingUser.username,\"\\uFF09\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u90AE\\u7BB1\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:editForm.email,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u624B\\u673A\\u53F7\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:editForm.phone,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5B66\\u6821\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.school_id,onChange:async e=>{const val=e.target.value;setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{school_id:val,major_id:'',class_id:''}));if(val){const majorsData=await getMajors(val);setMajors(majorsData);}else{setMajors([]);setClasses([]);}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"}),schools.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s.id,children:s.name},s.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u4E13\\u4E1A\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.major_id,onChange:async e=>{const val=e.target.value;setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{major_id:val,class_id:''}));if(val){const classesData=await getClasses(val);setClasses(classesData);}else{setClasses([]);}},disabled:!editForm.school_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u4E13\\u4E1A\"}),majors.map(m=>/*#__PURE__*/_jsx(\"option\",{value:m.id,children:m.name},m.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u73ED\\u7EA7\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.class_id,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{class_id:e.target.value})),disabled:!editForm.major_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u73ED\\u7EA7\"}),classes.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.name},c.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u91CD\\u7F6E\\u5BC6\\u7801\\uFF08\\u53EF\\u9009\\uFF09\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:editForm.new_password,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{new_password:e.target.value}))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleCancelEditStudent,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:handleSaveStudent,disabled:loading,children:loading?'保存中...':'保存'})]})]})})]}),activeTab==='problems'&&renderProblemsTab(),activeTab==='courses'&&renderCoursesTab()]});};export default TeacherDashboardPage;","map":{"version":3,"names":["React","useState","useEffect","getUsers","getSchools","getMajors","getClasses","batchImportStudents","getProblems","createProblem","updateProblem","deleteProblem","updateUser","deleteUser","registerStudent","getTeacherCourses","createCourse","updateCourse","deleteCourse","getCourseAssignments","createAssignment","updateAssignment","deleteAssignment","AIProblemGenerationPage","mockCourses","mockAssignments","formatDate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TeacherDashboardPage","activeTab","setActiveTab","activeSubTab","setActiveSubTab","users","setUsers","problems","setProblems","schools","setSchools","majors","setMajors","classes","setClasses","loading","setLoading","error","setError","success","setSuccess","importData","setImportData","selectedSchool","setSelectedSchool","selectedMajor","setSelectedMajor","selectedClass","setSelectedClass","problemForm","setProblemForm","title","description","test_cases","expected_output","difficulty","time_limit","memory_limit","editingProblem","setEditingProblem","isEditing","setIsEditing","addStudentForm","setAddStudentForm","student_no","name","password","email","phone","school_id","major_id","class_id","editingUser","setEditingUser","editForm","setEditForm","new_password","courses","setCourses","courseForm","setCourseForm","assignments","setAssignments","assignmentForm","setAssignmentForm","requirements","due_date","course_id","problem_ids","editingCourse","setEditingCourse","isEditingCourse","setIsEditingCourse","editingAssignment","setEditingAssignment","isEditingAssignment","setIsEditingAssignment","fetchInitialData","schoolsData","usersData","problemsData","Promise","all","coursesData","assignmentsData","console","warn","_error$response","_error$response$data","response","data","handleSchoolChange","schoolId","majorsData","handleMajorChange","majorId","classesData","handleBatchImport","trim","lines","split","map","l","filter","test","students","line","parts","s","length","studentNo","push","username","undefined","role","_resp$success_count","_resp$failed_count","resp","msg","message","concat","success_count","failed_count","errors","preview","slice","join","_error$response2","_error$response2$data","handleCreateProblem","id","_error$response3","_error$response3$data","handleEditProblem","problem","handleDeleteProblem","problemId","window","confirm","_error$response4","_error$response4$data","handleCancelEdit","renderStudentsTab","className","children","onClick","user","is_active","handleEditStudentClick","handleDeleteStudent","type","placeholder","value","onChange","e","prev","_objectSpread","target","required","handleAddStudentSchoolChange","school","handleAddStudentMajorChange","disabled","major","classItem","handleAddStudent","rows","renderProblemsTab","parseInt","min","max","renderCoursesTab","course","class_name","major_name","school_name","student_count","created_at","handleViewCourseDetail","handleEditCourse","handleDeleteCourse","handleCourseSchoolChange","handleCourseMajorChange","handleCreateCourse","assignment","course_name","handleEditAssignment","handleDeleteAssignment","checked","includes","handleCreateAssignment","_error$response5","_error$response5$data","handleSaveStudent","_error$response6","_error$response6$data","handleCancelEditStudent","userId","_error$response7","_error$response7$data","_error$response8","_error$response8$data","courseId","_error$response9","_error$response9$data","log","_error$response0","_error$response0$data","assignmentId","_error$response1","_error$response1$data","val","m","c"],"sources":["/Volumes/坞城/Judger_1/frontend/src/pages/TeacherDashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getUsers, getSchools, getMajors, getClasses, batchImportStudents, getProblems, createProblem, updateProblem, deleteProblem, updateUser, deleteUser, registerStudent, getTeacherCourses, createCourse, updateCourse, deleteCourse, getCourseAssignments, createAssignment, updateAssignment, deleteAssignment } from '../services/api';\nimport './TeacherDashboardPage.css';\nimport AIProblemGenerationPage from './AIProblemGenerationPage';\nimport { mockCourses, mockAssignments, formatDate } from '../testData/courses';\n\nconst TeacherDashboardPage = () => {\n  const [activeTab, setActiveTab] = useState('students');\n  const [activeSubTab, setActiveSubTab] = useState('list'); // 子标签页\n  const [users, setUsers] = useState([]);\n  const [problems, setProblems] = useState([]);\n  const [schools, setSchools] = useState([]);\n  const [majors, setMajors] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // 批量导入相关状态\n  const [importData, setImportData] = useState('');\n  const [selectedSchool, setSelectedSchool] = useState('');\n  const [selectedMajor, setSelectedMajor] = useState('');\n  const [selectedClass, setSelectedClass] = useState('');\n\n  // 手动创建题目相关状态\n  const [problemForm, setProblemForm] = useState({\n    title: '',\n    description: '',\n    test_cases: '',\n    expected_output: '',\n    difficulty: 'easy',\n    time_limit: 1000,\n    memory_limit: 128\n  });\n\n  // 编辑题目状态\n  const [editingProblem, setEditingProblem] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n\n  // 添加学生相关状态（按新规则：学号、姓名、密码必填）\n  const [addStudentForm, setAddStudentForm] = useState({\n    student_no: '',\n    name: '',\n    password: '',\n    email: '',\n    phone: '',\n    school_id: '',\n    major_id: '',\n    class_id: ''\n  });\n\n  // 学生编辑相关状态\n  const [editingUser, setEditingUser] = useState(null);\n  const [editForm, setEditForm] = useState({\n    email: '',\n    phone: '',\n    school_id: '',\n    major_id: '',\n    class_id: '',\n    new_password: ''\n  });\n\n  // 课程相关状态\n  \n  const [courses, setCourses] = useState([]);\n  const [courseForm, setCourseForm] = useState({\n    name: '',\n    description: '',\n    class_id: '',\n    major_id: '',\n    school_id: ''\n  });\n\n  // 作业相关状态\n  const [assignments, setAssignments] = useState([]);\n  const [assignmentForm, setAssignmentForm] = useState({\n    name: '',\n    description: '',\n    requirements: '',\n    due_date: '',\n    course_id: '',\n    problem_ids: []\n  });\n\n  // 编辑课程状态\n  const [editingCourse, setEditingCourse] = useState(null);\n  const [isEditingCourse, setIsEditingCourse] = useState(false);\n\n  // 编辑作业状态\n  const [editingAssignment, setEditingAssignment] = useState(null);\n  const [isEditingAssignment, setIsEditingAssignment] = useState(false);\n\n  useEffect(() => {\n    fetchInitialData();\n  }, []);\n\n  const fetchInitialData = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      const [schoolsData, usersData, problemsData] = await Promise.all([\n        getSchools(),\n        getUsers(1, 50, 'student'),\n        getProblems(1, 50)\n      ]);\n      \n      setSchools(schoolsData);\n      setUsers(usersData.users);\n      setProblems(problemsData.problems);\n      \n      // 获取课程和作业数据（使用测试数据）\n      try {\n        const [coursesData, assignmentsData] = await Promise.all([\n          getTeacherCourses(),\n          getCourseAssignments()\n        ]);\n        setCourses(coursesData.courses || mockCourses);\n        setAssignments(assignmentsData.assignments || mockAssignments);\n      } catch (error) {\n        console.warn('获取课程或作业数据失败，使用测试数据:', error);\n        setCourses(mockCourses);\n        setAssignments(mockAssignments);\n      }\n    } catch (error) {\n      setError(error?.response?.data?.error || '获取数据失败');\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSchoolChange = async (schoolId) => {\n    setSelectedSchool(schoolId);\n    setSelectedMajor('');\n    setSelectedClass('');\n    \n    if (schoolId) {\n      try {\n        const majorsData = await getMajors(schoolId);\n        setMajors(majorsData);\n      } catch (error) {\n        console.error('Error fetching majors:', error);\n      }\n    } else {\n      setMajors([]);\n    }\n  };\n\n  const handleMajorChange = async (majorId) => {\n    setSelectedMajor(majorId);\n    setSelectedClass('');\n    \n    if (majorId) {\n      try {\n        const classesData = await getClasses(majorId);\n        setClasses(classesData);\n      } catch (error) {\n        console.error('Error fetching classes:', error);\n      }\n    } else {\n      setClasses([]);\n    }\n  };\n\n  const handleBatchImport = async () => {\n    if (!importData.trim()) {\n      setError('请输入要导入的学生数据');\n      setSuccess('');\n      return;\n    }\n\n    if (!selectedSchool || !selectedMajor || !selectedClass) {\n      setError('请选择学校、专业和班级');\n      setSuccess('');\n      return;\n    }\n\n    // 解析CSV数据为学生对象数组\n    const lines = importData\n      .split(/\\r?\\n/)\n      .map(l => l.trim())\n      .filter(l => l && !/^\\s*#/.test(l));\n    const students = [];\n    for (const line of lines) {\n      const parts = line.split(',').map(s => s.trim());\n      if (parts.length < 3) continue; // 至少: 学号,姓名,密码\n      const [studentNo, name, password, email, phone] = parts;\n      students.push({\n        username: studentNo,\n        name,\n        password,\n        email: email || undefined,\n        phone: phone || undefined,\n        school_id: selectedSchool,\n        major_id: selectedMajor,\n        class_id: selectedClass,\n        role: 'student'\n      });\n    }\n\n    if (students.length === 0) {\n      setError('没有有效的学生数据行。请按 CSV: 学号,姓名,密码[,邮箱][,手机号]');\n      setSuccess('');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      const resp = await batchImportStudents({ students });\n      \n      const msg = resp?.message || `批量导入完成: 成功 ${resp?.success_count ?? students.length} 个, 失败 ${resp?.failed_count ?? 0} 个`;\n      setSuccess(msg);\n      if (resp?.errors && resp.errors.length > 0) {\n        const preview = resp.errors.slice(0, 5).join('；');\n        setError(`部分导入失败：${preview}${resp.errors.length > 5 ? ' 等' : ''}`);\n      }\n      \n      // 刷新用户列表\n      const usersData = await getUsers(1, 50, 'student');\n      setUsers(usersData.users);\n      setImportData('');\n    } catch (error) {\n      setError(error.response?.data?.error || '批量导入失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateProblem = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      if (isEditing && editingProblem) {\n        await updateProblem(editingProblem.id, problemForm);\n        setSuccess('题目更新成功！');\n      } else {\n        await createProblem(problemForm);\n        setSuccess('题目创建成功！');\n      }\n      \n      // 重置表单\n      setProblemForm({\n        title: '',\n        description: '',\n        test_cases: '',\n        expected_output: '',\n        difficulty: 'easy',\n        time_limit: 1000,\n        memory_limit: 128\n      });\n      \n      setIsEditing(false);\n      setEditingProblem(null);\n      \n      // 刷新题目列表\n      const problemsData = await getProblems(1, 50);\n      setProblems(problemsData.problems);\n      \n      // 切换到题目列表\n      setActiveSubTab('list');\n      \n    } catch (error) {\n      setError(error.response?.data?.error || (isEditing ? '更新题目失败' : '创建题目失败'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditProblem = (problem) => {\n    setEditingProblem(problem);\n    setProblemForm({\n      title: problem.title,\n      description: problem.description,\n      test_cases: problem.test_cases,\n      expected_output: problem.expected_output,\n      difficulty: problem.difficulty,\n      time_limit: problem.time_limit,\n      memory_limit: problem.memory_limit\n    });\n    setIsEditing(true);\n    setActiveSubTab('create');\n  };\n\n  const handleDeleteProblem = async (problemId) => {\n    if (!window.confirm('确定要删除这个题目吗？此操作不可恢复。')) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      await deleteProblem(problemId);\n      setSuccess('题目删除成功！');\n      \n      // 刷新题目列表\n      const problemsData = await getProblems(1, 50);\n      setProblems(problemsData.problems);\n    } catch (error) {\n      setError(error.response?.data?.error || '删除题目失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setIsEditing(false);\n    setEditingProblem(null);\n    setProblemForm({\n      title: '',\n      description: '',\n      test_cases: '',\n      expected_output: '',\n      difficulty: 'easy',\n      time_limit: 1000,\n      memory_limit: 128\n    });\n    setActiveSubTab('list');\n  };\n\n  // 学生管理标签页渲染函数\n  const renderStudentsTab = () => (\n    <div className=\"tab-content\">\n      <div className=\"sub-tabs\">\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'list' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('list')}\n        >\n          学生列表\n        </button>\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'add' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('add')}\n        >\n          添加学生\n        </button>\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'import' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('import')}\n        >\n          批量导入\n        </button>\n      </div>\n\n      {activeSubTab === 'list' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>学生列表</h2>\n            <button \n              className=\"add-btn\"\n              onClick={() => setActiveSubTab('add')}\n            >\n              添加学生\n            </button>\n          </div>\n          \n          <div className=\"users-table\">\n            <table>\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>学号</th>\n                  <th>姓名</th>\n                  <th>邮箱</th>\n                  <th>班级</th>\n                  <th>状态</th>\n                  <th>操作</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map(user => (\n                  <tr key={user.id}>\n                    <td>{user.id}</td>\n                    <td>{user.username}</td>\n                    <td>{user.name}</td>\n                    <td>{user.email || '-'}</td>\n                    <td>{user.class_id || '-'}</td>\n                    <td>\n                      <span className={`status-badge ${user.is_active ? 'active' : 'inactive'}`}>\n                        {user.is_active ? '活跃' : '禁用'}\n                      </span>\n                    </td>\n                    <td>\n                      <button className=\"action-btn edit\" onClick={() => handleEditStudentClick(user)}>编辑</button>\n                      <button className=\"action-btn delete\" onClick={() => handleDeleteStudent(user.id)}>删除</button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {activeSubTab === 'add' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>➕ 添加学生</h2>\n            <button \n              className=\"secondary-btn\"\n              onClick={() => setActiveSubTab('list')}\n            >\n              ← 返回学生列表\n            </button>\n          </div>\n          \n          <div className=\"add-student-form\">\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>学号：<span className=\"required-mark\">*</span> <span className=\"required-text\">必填</span></label>\n                <input \n                  type=\"text\" \n                  placeholder=\"请输入学号\"\n                  value={addStudentForm.student_no}\n                  onChange={(e) => setAddStudentForm(prev => ({ ...prev, student_no: e.target.value }))}\n                  required\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>密码：<span className=\"required-mark\">*</span> <span className=\"required-text\">必填</span></label>\n                <input \n                  type=\"password\" \n                  placeholder=\"请输入密码\"\n                  value={addStudentForm.password}\n                  onChange={(e) => setAddStudentForm(prev => ({ ...prev, password: e.target.value }))}\n                  required\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>姓名：<span className=\"required-mark\">*</span> <span className=\"required-text\">必填</span></label>\n                <input \n                  type=\"text\" \n                  placeholder=\"请输入学生姓名\"\n                  value={addStudentForm.name}\n                  onChange={(e) => setAddStudentForm(prev => ({ ...prev, name: e.target.value }))}\n                  required\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>邮箱：</label>\n                <input \n                  type=\"email\" \n                  placeholder=\"请输入邮箱地址\"\n                  value={addStudentForm.email}\n                  onChange={(e) => setAddStudentForm(prev => ({ ...prev, email: e.target.value }))}\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>手机号：</label>\n                <input \n                  type=\"tel\" \n                  placeholder=\"请输入手机号码\"\n                  value={addStudentForm.phone}\n                  onChange={(e) => setAddStudentForm(prev => ({ ...prev, phone: e.target.value }))}\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>学校：</label>\n                <select \n                  value={addStudentForm.school_id} \n                  onChange={(e) => handleAddStudentSchoolChange(e.target.value)}\n                >\n                  <option value=\"\">请选择学校</option>\n                  {schools.map(school => (\n                    <option key={school.id} value={school.id}>\n                      {school.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>专业：</label>\n                <select \n                  value={addStudentForm.major_id} \n                  onChange={(e) => handleAddStudentMajorChange(e.target.value)}\n                  disabled={!addStudentForm.school_id}\n                >\n                  <option value=\"\">请选择专业</option>\n                  {majors.map(major => (\n                    <option key={major.id} value={major.id}>\n                      {major.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div className=\"form-group\">\n                <label>班级：</label>\n                <select \n                  value={addStudentForm.class_id} \n                  onChange={(e) => setAddStudentForm(prev => ({ ...prev, class_id: e.target.value }))}\n                  disabled={!addStudentForm.major_id}\n                >\n                  <option value=\"\">请选择班级</option>\n                  {classes.map(classItem => (\n                    <option key={classItem.id} value={classItem.id}>\n                      {classItem.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"form-actions\">\n              <button \n                className=\"submit-btn\"\n                onClick={handleAddStudent}\n                disabled={loading || !addStudentForm.student_no || !addStudentForm.name || !addStudentForm.password}\n              >\n                {loading ? '添加中...' : '添加学生'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {activeSubTab === 'import' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>📥 批量导入学生</h2>\n            <button \n              className=\"secondary-btn\"\n              onClick={() => setActiveSubTab('list')}\n            >\n              ← 返回学生列表\n            </button>\n          </div>\n          \n          <div className=\"import-form\">\n            <div className=\"form-group\">\n              <label>选择学校:</label>\n              <select \n                value={selectedSchool} \n                onChange={(e) => handleSchoolChange(e.target.value)}\n              >\n                <option value=\"\">请选择学校</option>\n                {schools.map(school => (\n                  <option key={school.id} value={school.id}>\n                    {school.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"form-group\">\n              <label>选择专业:</label>\n              <select \n                value={selectedMajor} \n                onChange={(e) => handleMajorChange(e.target.value)}\n                disabled={!selectedSchool}\n              >\n                <option value=\"\">请选择专业</option>\n                {majors.map(major => (\n                  <option key={major.id} value={major.id}>\n                    {major.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"form-group\">\n              <label>选择班级:</label>\n              <select \n                value={selectedClass} \n                onChange={(e) => setSelectedClass(e.target.value)}\n                disabled={!selectedMajor}\n              >\n                <option value=\"\">请选择班级</option>\n                {classes.map(classItem => (\n                  <option key={classItem.id} value={classItem.id}>\n                    {classItem.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"form-group\">\n              <label>学生数据 (CSV格式):</label>\n              <textarea\n                value={importData}\n                onChange={(e) => setImportData(e.target.value)}\n                placeholder=\"学号,姓名,密码,邮箱,手机号&#10;2021001,张三,123456,zhangsan@example.com,13800138001&#10;2021002,李四,123456,lisi@example.com,13800138002\"\n                rows={10}\n              />\n              <div className=\"form-help\">\n                <p>CSV格式说明：每行一个学生，字段用逗号分隔</p>\n                <p>必填字段：学号,姓名,密码</p>\n                <p>可选字段：邮箱,手机号</p>\n              </div>\n            </div>\n            \n            <div className=\"form-actions\">\n              <button \n                className=\"submit-btn\"\n                onClick={handleBatchImport}\n                disabled={loading || !importData.trim() || !selectedSchool || !selectedMajor || !selectedClass}\n              >\n                {loading ? '导入中...' : '开始导入'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  // 题目管理标签页渲染函数\n  const renderProblemsTab = () => (\n    <div className=\"tab-content\">\n      <div className=\"sub-tabs\">\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'list' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('list')}\n        >\n          题目列表\n        </button>\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'create' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('create')}\n        >\n          {isEditing ? '编辑题目' : '创建题目'}\n        </button>\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'ai' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('ai')}\n        >\n          🤖 AI生题\n        </button>\n      </div>\n\n      {activeSubTab === 'list' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>题目列表</h2>\n            <button \n              className=\"add-btn\"\n              onClick={() => {\n                setIsEditing(false);\n                setEditingProblem(null);\n                setActiveSubTab('create');\n              }}\n            >\n              创建题目\n            </button>\n          </div>\n          \n          <div className=\"problems-table\">\n            <table>\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>标题</th>\n                  <th>难度</th>\n                  <th>时间限制</th>\n                  <th>内存限制</th>\n                  <th>状态</th>\n                  <th>操作</th>\n                </tr>\n              </thead>\n              <tbody>\n                {problems.map(problem => (\n                  <tr key={problem.id}>\n                    <td>{problem.id}</td>\n                    <td>{problem.title}</td>\n                    <td>\n                      <span className={`difficulty-badge ${problem.difficulty}`}>\n                        {problem.difficulty === 'easy' ? '简单' : \n                         problem.difficulty === 'medium' ? '中等' : '困难'}\n                      </span>\n                    </td>\n                    <td>{problem.time_limit}ms</td>\n                    <td>{problem.memory_limit}MB</td>\n                    <td>\n                      <span className={`status-badge ${problem.is_active ? 'active' : 'inactive'}`}>\n                        {problem.is_active ? '启用' : '禁用'}\n                      </span>\n                    </td>\n                    <td>\n                      <button \n                        className=\"action-btn edit\"\n                        onClick={() => handleEditProblem(problem)}\n                      >\n                        编辑\n                      </button>\n                      <button \n                        className=\"action-btn delete\"\n                        onClick={() => handleDeleteProblem(problem.id)}\n                      >\n                        删除\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {activeSubTab === 'create' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>{isEditing ? '✏️ 编辑题目' : '➕ 创建题目'}</h2>\n            <button \n              className=\"secondary-btn\"\n              onClick={handleCancelEdit}\n            >\n              ← 返回题目列表\n            </button>\n          </div>\n          \n          <div className=\"problem-form\">\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>题目标题：</label>\n                <input \n                  type=\"text\" \n                  placeholder=\"请输入题目标题\"\n                  value={problemForm.title}\n                  onChange={(e) => setProblemForm(prev => ({ ...prev, title: e.target.value }))}\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>难度等级：</label>\n                <select \n                  value={problemForm.difficulty}\n                  onChange={(e) => setProblemForm(prev => ({ ...prev, difficulty: e.target.value }))}\n                >\n                  <option value=\"easy\">简单</option>\n                  <option value=\"medium\">中等</option>\n                  <option value=\"hard\">困难</option>\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>时间限制 (ms)：</label>\n                <input \n                  type=\"number\" \n                  placeholder=\"1000\"\n                  value={problemForm.time_limit}\n                  onChange={(e) => setProblemForm(prev => ({ ...prev, time_limit: parseInt(e.target.value) }))}\n                  min=\"100\"\n                  max=\"10000\"\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>内存限制 (MB)：</label>\n                <input \n                  type=\"number\" \n                  placeholder=\"128\"\n                  value={problemForm.memory_limit}\n                  onChange={(e) => setProblemForm(prev => ({ ...prev, memory_limit: parseInt(e.target.value) }))}\n                  min=\"16\"\n                  max=\"1024\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-group\">\n              <label>题目描述：</label>\n              <textarea\n                placeholder=\"请输入题目的详细描述\"\n                value={problemForm.description}\n                onChange={(e) => setProblemForm(prev => ({ ...prev, description: e.target.value }))}\n                rows={6}\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>测试用例：</label>\n              <textarea\n                placeholder=\"请输入测试用例\"\n                value={problemForm.test_cases}\n                onChange={(e) => setProblemForm(prev => ({ ...prev, test_cases: e.target.value }))}\n                rows={4}\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>期望输出：</label>\n              <textarea\n                placeholder=\"请输入期望的输出结果\"\n                value={problemForm.expected_output}\n                onChange={(e) => setProblemForm(prev => ({ ...prev, expected_output: e.target.value }))}\n                rows={4}\n              />\n            </div>\n            \n            <div className=\"form-actions\">\n              <button \n                className=\"submit-btn\"\n                onClick={handleCreateProblem}\n                disabled={loading || !problemForm.title || !problemForm.description || !problemForm.test_cases || !problemForm.expected_output}\n              >\n                {loading ? (isEditing ? '更新中...' : '创建中...') : (isEditing ? '更新题目' : '创建题目')}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {activeSubTab === 'ai' && (\n        <div className=\"section-content\">\n          <AIProblemGenerationPage />\n        </div>\n      )}\n    </div>\n  );\n\n  // 课程管理标签页渲染函数\n  const renderCoursesTab = () => (\n    <div className=\"tab-content\">\n      <div className=\"sub-tabs\">\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'list' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('list')}\n        >\n          课程列表\n        </button>\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'add' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('add')}\n        >\n          添加课程\n        </button>\n        <button \n          className={`sub-tab-btn ${activeSubTab === 'assignments' ? 'active' : ''}`}\n          onClick={() => setActiveSubTab('assignments')}\n        >\n          作业管理\n        </button>\n      </div>\n\n      {activeSubTab === 'list' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>我的课程</h2>\n            <button \n              className=\"add-btn\"\n              onClick={() => setActiveSubTab('add')}\n            >\n              添加课程\n            </button>\n          </div>\n          \n          <div className=\"courses-grid\">\n            {courses.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>暂无课程，请添加您的第一个教学班</p>\n                <button \n                  className=\"submit-btn\"\n                  onClick={() => setActiveSubTab('add')}\n                >\n                  添加课程\n                </button>\n              </div>\n            ) : (\n              courses.map(course => (\n                <div key={course.id} className=\"course-card\">\n                  <div className=\"course-header\">\n                    <h3>{course.name}</h3>\n                    <span className=\"course-status active\">进行中</span>\n                  </div>\n                  <div className=\"course-info\">\n                    <p><strong>教学班：</strong>{course.class_name}</p>\n                    <p><strong>专业：</strong>{course.major_name}</p>\n                    <p><strong>学校：</strong>{course.school_name}</p>\n                    <p><strong>学生数量：</strong>{course.student_count || 0}人</p>\n                    <p><strong>创建时间：</strong>{formatDate(course.created_at)}</p>\n                  </div>\n                  <div className=\"course-actions\">\n                    <button \n                      className=\"action-btn primary\"\n                      onClick={() => handleViewCourseDetail(course.id)}\n                    >\n                      查看详情\n                    </button>\n                    <button \n                      className=\"action-btn edit\"\n                      onClick={() => handleEditCourse(course)}\n                    >\n                      编辑\n                    </button>\n                    <button \n                      className=\"action-btn delete\"\n                      onClick={() => handleDeleteCourse(course.id)}\n                    >\n                      删除\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n\n      {activeSubTab === 'add' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>{isEditingCourse ? '✏️ 编辑课程' : '➕ 添加课程'}</h2>\n            <button \n              className=\"secondary-btn\"\n              onClick={() => {\n                setActiveSubTab('list');\n                setIsEditingCourse(false);\n                setEditingCourse(null);\n                setCourseForm({\n                  name: '',\n                  description: '',\n                  class_id: '',\n                  major_id: '',\n                  school_id: ''\n                });\n              }}\n            >\n              ← 返回课程列表\n            </button>\n          </div>\n          \n          <div className=\"course-form\">\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>课程名称：<span className=\"required-mark\">*</span></label>\n                <input \n                  type=\"text\" \n                  placeholder=\"请输入课程名称\"\n                  value={courseForm.name}\n                  onChange={(e) => setCourseForm(prev => ({ ...prev, name: e.target.value }))}\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>课程描述：</label>\n                <textarea\n                  placeholder=\"请输入课程描述\"\n                  value={courseForm.description}\n                  onChange={(e) => setCourseForm(prev => ({ ...prev, description: e.target.value }))}\n                  rows={3}\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>学校：<span className=\"required-mark\">*</span></label>\n                <select \n                  value={courseForm.school_id} \n                  onChange={(e) => handleCourseSchoolChange(e.target.value)}\n                >\n                  <option value=\"\">请选择学校</option>\n                  {schools.map(school => (\n                    <option key={school.id} value={school.id}>\n                      {school.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div className=\"form-group\">\n                <label>专业：<span className=\"required-mark\">*</span></label>\n                <select \n                  value={courseForm.major_id} \n                  onChange={(e) => handleCourseMajorChange(e.target.value)}\n                  disabled={!courseForm.school_id}\n                >\n                  <option value=\"\">请选择专业</option>\n                  {majors.map(major => (\n                    <option key={major.id} value={major.id}>\n                      {major.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>教学班：<span className=\"required-mark\">*</span></label>\n                <select \n                  value={courseForm.class_id} \n                  onChange={(e) => setCourseForm(prev => ({ ...prev, class_id: e.target.value }))}\n                  disabled={!courseForm.major_id}\n                >\n                  <option value=\"\">请选择教学班</option>\n                  {classes.map(classItem => (\n                    <option key={classItem.id} value={classItem.id}>\n                      {classItem.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n            \n                            <div className=\"form-actions\">\n                  <button \n                    className=\"submit-btn\"\n                    onClick={handleCreateCourse}\n                    disabled={loading || !courseForm.name || !courseForm.school_id || !courseForm.major_id || !courseForm.class_id}\n                  >\n                    {loading ? (isEditingCourse ? '更新中...' : '创建中...') : (isEditingCourse ? '更新课程' : '创建课程')}\n                  </button>\n                </div>\n          </div>\n        </div>\n      )}\n\n      {activeSubTab === 'assignments' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>📚 作业管理</h2>\n            <button \n              className=\"add-btn\"\n              onClick={() => setActiveSubTab('create-assignment')}\n            >\n              布置作业\n            </button>\n          </div>\n          \n          <div className=\"assignments-table\">\n            <table>\n              <thead>\n                <tr>\n                  <th>作业名称</th>\n                  <th>课程</th>\n                  <th>截止时间</th>\n                  <th>状态</th>\n                  <th>操作</th>\n                </tr>\n              </thead>\n              <tbody>\n                {assignments.map(assignment => (\n                  <tr key={assignment.id}>\n                    <td>{assignment.name}</td>\n                    <td>{assignment.course_name}</td>\n                    <td>{formatDate(assignment.due_date)}</td>\n                    <td>\n                      <span className={`status-badge ${assignment.is_active ? 'active' : 'inactive'}`}>\n                        {assignment.is_active ? '进行中' : '已结束'}\n                      </span>\n                    </td>\n                    <td>\n                      <button \n                        className=\"action-btn edit\"\n                        onClick={() => handleEditAssignment(assignment)}\n                      >\n                        编辑\n                      </button>\n                      <button \n                        className=\"action-btn delete\"\n                        onClick={() => handleDeleteAssignment(assignment.id)}\n                      >\n                        删除\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {activeSubTab === 'create-assignment' && (\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <h2>{isEditingAssignment ? '✏️ 编辑作业' : '📝 布置作业'}</h2>\n            <button \n              className=\"secondary-btn\"\n              onClick={() => {\n                setActiveSubTab('assignments');\n                setIsEditingAssignment(false);\n                setEditingAssignment(null);\n                setAssignmentForm({\n                  name: '',\n                  description: '',\n                  requirements: '',\n                  due_date: '',\n                  course_id: '',\n                  problem_ids: []\n                });\n              }}\n            >\n              ← 返回作业管理\n            </button>\n          </div>\n          \n          <div className=\"assignment-form\">\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>作业名称：<span className=\"required-mark\">*</span></label>\n                <input \n                  type=\"text\" \n                  placeholder=\"请输入作业名称\"\n                  value={assignmentForm.name}\n                  onChange={(e) => setAssignmentForm(prev => ({ ...prev, name: e.target.value }))}\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>课程：<span className=\"required-mark\">*</span></label>\n                <select \n                  value={assignmentForm.course_id} \n                  onChange={(e) => setAssignmentForm(prev => ({ ...prev, course_id: e.target.value }))}\n                >\n                  <option value=\"\">请选择课程</option>\n                  {courses.map(course => (\n                    <option key={course.id} value={course.id}>\n                      {course.name} - {course.class_name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"form-group\">\n              <label>作业描述：<span className=\"required-mark\">*</span></label>\n              <textarea\n                placeholder=\"请输入作业描述\"\n                value={assignmentForm.description}\n                onChange={(e) => setAssignmentForm(prev => ({ ...prev, description: e.target.value }))}\n                rows={4}\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>作业要求：<span className=\"required-mark\">*</span></label>\n              <textarea\n                placeholder=\"请输入作业要求\"\n                value={assignmentForm.requirements}\n                onChange={(e) => setAssignmentForm(prev => ({ ...prev, requirements: e.target.value }))}\n                rows={4}\n              />\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>截止时间：<span className=\"required-mark\">*</span></label>\n                <input \n                  type=\"datetime-local\" \n                  value={assignmentForm.due_date}\n                  onChange={(e) => setAssignmentForm(prev => ({ ...prev, due_date: e.target.value }))}\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-group\">\n              <label>选择题目：</label>\n              <div className=\"problem-selection\">\n                {problems.map(problem => (\n                  <label key={problem.id} className=\"problem-checkbox\">\n                    <input \n                      type=\"checkbox\" \n                      value={problem.id}\n                      checked={assignmentForm.problem_ids.includes(problem.id)}\n                      onChange={(e) => {\n                        if (e.target.checked) {\n                          setAssignmentForm(prev => ({ \n                            ...prev, \n                            problem_ids: [...prev.problem_ids, problem.id] \n                          }));\n                        } else {\n                          setAssignmentForm(prev => ({ \n                            ...prev, \n                            problem_ids: prev.problem_ids.filter(id => id !== problem.id) \n                          }));\n                        }\n                      }}\n                    />\n                    <span className=\"problem-title\">{problem.title}</span>\n                    <span className={`difficulty-badge ${problem.difficulty}`}>\n                      {problem.difficulty === 'easy' ? '简单' : \n                       problem.difficulty === 'medium' ? '中等' : '困难'}\n                    </span>\n                  </label>\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"form-actions\">\n              <button \n                className=\"submit-btn\"\n                onClick={handleCreateAssignment}\n                disabled={loading || !assignmentForm.name || !assignmentForm.description || !assignmentForm.requirements || !assignmentForm.due_date || !assignmentForm.course_id}\n              >\n                {loading ? (isEditingAssignment ? '更新中...' : '创建中...') : (isEditingAssignment ? '更新作业' : '布置作业')}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  // 处理添加学生时的学校选择变化\n  const handleAddStudentSchoolChange = async (schoolId) => {\n    setAddStudentForm(prev => ({ \n      ...prev, \n      school_id: schoolId,\n      major_id: '',\n      class_id: ''\n    }));\n    \n    if (schoolId) {\n      try {\n        const majorsData = await getMajors(schoolId);\n        setMajors(majorsData);\n      } catch (error) {\n        console.error('Error fetching majors:', error);\n      }\n    } else {\n      setMajors([]);\n    }\n  };\n\n  // 处理添加学生时的专业选择变化\n  const handleAddStudentMajorChange = async (majorId) => {\n    setAddStudentForm(prev => ({ \n      ...prev, \n      major_id: majorId,\n      class_id: ''\n    }));\n    \n    if (majorId) {\n      try {\n        const classesData = await getClasses(majorId);\n        setClasses(classesData);\n      } catch (error) {\n        console.error('Error fetching classes:', error);\n      }\n    } else {\n      setClasses([]);\n    }\n  };\n\n  // 处理添加学生\n  const handleAddStudent = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await registerStudent(addStudentForm);\n      \n      setSuccess('学生添加成功！');\n      \n      // 重置表单\n      setAddStudentForm({\n        student_no: '',\n        name: '',\n        password: '',\n        email: '',\n        phone: '',\n        school_id: '',\n        major_id: '',\n        class_id: ''\n      });\n      \n      // 刷新用户列表\n      const usersData = await getUsers(1, 50, 'student');\n      setUsers(usersData.users);\n      \n      // 切换到学生列表\n      setActiveSubTab('list');\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '添加学生失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 学生编辑/删除相关\n  const handleEditStudentClick = (user) => {\n    setEditingUser(user);\n    setEditForm({\n      email: user.email || '',\n      phone: user.phone || '',\n      school_id: user.school_id || '',\n      major_id: user.major_id || '',\n      class_id: user.class_id || '',\n      new_password: ''\n    });\n    setError('');\n    setSuccess('');\n  };\n\n  const handleSaveStudent = async () => {\n    if (!editingUser) return;\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      await updateUser(editingUser.id, editForm);\n      setSuccess('学生信息已更新');\n      // 刷新列表\n      const usersData = await getUsers(1, 50, 'student');\n      setUsers(usersData.users);\n      setEditingUser(null);\n    } catch (error) {\n      setError(error.response?.data?.error || '更新学生信息失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancelEditStudent = () => {\n    setEditingUser(null);\n    setEditForm({ email: '', phone: '', school_id: '', major_id: '', class_id: '', new_password: '' });\n  };\n\n  const handleDeleteStudent = async (userId) => {\n    if (!window.confirm('确定要删除该学生吗？此操作不可恢复。')) return;\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      await deleteUser(userId);\n      setSuccess('学生已删除');\n      const usersData = await getUsers(1, 50, 'student');\n      setUsers(usersData.users);\n    } catch (error) {\n      setError(error.response?.data?.error || '删除学生失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 课程相关处理函数\n  const handleCourseSchoolChange = async (schoolId) => {\n    setCourseForm(prev => ({ \n      ...prev, \n      school_id: schoolId,\n      major_id: '',\n      class_id: ''\n    }));\n    \n    if (schoolId) {\n      try {\n        const majorsData = await getMajors(schoolId);\n        setMajors(majorsData);\n      } catch (error) {\n        console.error('Error fetching majors:', error);\n      }\n    } else {\n      setMajors([]);\n    }\n  };\n\n  const handleCourseMajorChange = async (majorId) => {\n    setCourseForm(prev => ({ \n      ...prev, \n      major_id: majorId,\n      class_id: ''\n    }));\n    \n    if (majorId) {\n      try {\n        const classesData = await getClasses(majorId);\n        setClasses(classesData);\n      } catch (error) {\n        console.error('Error fetching classes:', error);\n      }\n    } else {\n      setClasses([]);\n    }\n  };\n\n  const handleCreateCourse = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      if (isEditingCourse && editingCourse) {\n        await updateCourse(editingCourse.id, courseForm);\n        setSuccess('课程更新成功！');\n      } else {\n        await createCourse(courseForm);\n        setSuccess('课程创建成功！');\n      }\n      \n      // 重置表单\n      setCourseForm({\n        name: '',\n        description: '',\n        class_id: '',\n        major_id: '',\n        school_id: ''\n      });\n      \n      setIsEditingCourse(false);\n      setEditingCourse(null);\n      \n      // 刷新课程列表\n      const coursesData = await getTeacherCourses();\n      setCourses(coursesData.courses || []);\n      \n      // 切换到课程列表\n      setActiveSubTab('list');\n      \n    } catch (error) {\n      setError(error.response?.data?.error || (isEditingCourse ? '更新课程失败' : '创建课程失败'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditCourse = (course) => {\n    setEditingCourse(course);\n    setCourseForm({\n      name: course.name,\n      description: course.description || '',\n      school_id: course.school_id || '',\n      major_id: course.major_id || '',\n      class_id: course.class_id || ''\n    });\n    setIsEditingCourse(true);\n    setActiveSubTab('add');\n  };\n\n  const handleDeleteCourse = async (courseId) => {\n    if (!window.confirm('确定要删除该课程吗？此操作不可恢复。')) return;\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await deleteCourse(courseId);\n      setSuccess('课程已删除');\n      \n      // 刷新课程列表\n      const coursesData = await getTeacherCourses();\n      setCourses(coursesData.courses || []);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '删除课程失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleViewCourseDetail = (courseId) => {\n    // TODO: 实现查看课程详情的功能\n    console.log('查看课程详情:', courseId);\n  };\n\n  // 作业相关处理函数\n  const handleCreateAssignment = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      if (isEditingAssignment && editingAssignment) {\n        await updateAssignment(editingAssignment.id, assignmentForm);\n        setSuccess('作业更新成功！');\n      } else {\n        await createAssignment(assignmentForm);\n        setSuccess('作业布置成功！');\n      }\n      \n      // 重置表单\n      setAssignmentForm({\n        name: '',\n        description: '',\n        requirements: '',\n        due_date: '',\n        course_id: '',\n        problem_ids: []\n      });\n      \n      setIsEditingAssignment(false);\n      setEditingAssignment(null);\n      \n      // 刷新作业列表\n      const assignmentsData = await getCourseAssignments();\n      setAssignments(assignmentsData.assignments || []);\n      \n      // 切换到作业管理\n      setActiveSubTab('assignments');\n      \n    } catch (error) {\n      setError(error.response?.data?.error || (isEditingAssignment ? '更新作业失败' : '布置作业失败'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditAssignment = (assignment) => {\n    setEditingAssignment(assignment);\n    setAssignmentForm({\n      name: assignment.name,\n      description: assignment.description || '',\n      requirements: assignment.requirements || '',\n      due_date: assignment.due_date || '',\n      course_id: assignment.course_id || '',\n      problem_ids: assignment.problem_ids || []\n    });\n    setIsEditingAssignment(true);\n    setActiveSubTab('create-assignment');\n  };\n\n  const handleDeleteAssignment = async (assignmentId) => {\n    if (!window.confirm('确定要删除该作业吗？此操作不可恢复。')) return;\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess('');\n      \n      await deleteAssignment(assignmentId);\n      setSuccess('作业已删除');\n      \n      // 刷新作业列表\n      const assignmentsData = await getCourseAssignments();\n      setAssignments(assignmentsData.assignments || []);\n      \n    } catch (error) {\n      setError(error.response?.data?.error || '删除作业失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"teacher-dashboard\">\n      <div className=\"dashboard-header\">\n        <h1>教师管理控制台</h1>\n      </div>\n      \n      <div className=\"dashboard-tabs\">\n        <button \n          className={`tab-btn ${activeTab === 'students' ? 'active' : ''}`}\n          onClick={() => {\n            setActiveTab('students');\n            setActiveSubTab('list');\n          }}\n        >\n          学生管理\n        </button>\n        <button \n          className={`tab-btn ${activeTab === 'problems' ? 'active' : ''}`}\n          onClick={() => {\n            setActiveTab('problems');\n            setActiveSubTab('list');\n          }}\n        >\n          题目管理\n        </button>\n        <button \n          className={`tab-btn ${activeTab === 'courses' ? 'active' : ''}`}\n          onClick={() => {\n            setActiveTab('courses');\n            setActiveSubTab('list');\n          }}\n        >\n          我的课程\n        </button>\n      </div>\n      \n      {error && <div className=\"error-message\">{error}</div>}\n      {success && <div className=\"success-message\">{success}</div>}\n      \n      {activeTab === 'students' && (\n        <>\n          {renderStudentsTab()}\n          {editingUser && (\n            <div className=\"modal-overlay\">\n              <div className=\"modal\">\n                <div className=\"modal-header\">\n                  <h3>编辑学生：{editingUser.name}（学号{editingUser.username}）</h3>\n                </div>\n                <div className=\"modal-body\">\n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>邮箱：</label>\n                      <input type=\"email\" value={editForm.email} onChange={(e) => setEditForm(prev => ({ ...prev, email: e.target.value }))} />\n                    </div>\n                    <div className=\"form-group\">\n                      <label>手机号：</label>\n                      <input type=\"tel\" value={editForm.phone} onChange={(e) => setEditForm(prev => ({ ...prev, phone: e.target.value }))} />\n                    </div>\n                  </div>\n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>学校：</label>\n                      <select value={editForm.school_id} onChange={async (e) => {\n                        const val = e.target.value;\n                        setEditForm(prev => ({ ...prev, school_id: val, major_id: '', class_id: '' }));\n                        if (val) {\n                          const majorsData = await getMajors(val);\n                          setMajors(majorsData);\n                        } else {\n                          setMajors([]);\n                          setClasses([]);\n                        }\n                      }}>\n                        <option value=\"\">请选择学校</option>\n                        {schools.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}\n                      </select>\n                    </div>\n                    <div className=\"form-group\">\n                      <label>专业：</label>\n                      <select value={editForm.major_id} onChange={async (e) => {\n                        const val = e.target.value;\n                        setEditForm(prev => ({ ...prev, major_id: val, class_id: '' }));\n                        if (val) {\n                          const classesData = await getClasses(val);\n                          setClasses(classesData);\n                        } else {\n                          setClasses([]);\n                        }\n                      }} disabled={!editForm.school_id}>\n                        <option value=\"\">请选择专业</option>\n                        {majors.map(m => <option key={m.id} value={m.id}>{m.name}</option>)}\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label>班级：</label>\n                      <select value={editForm.class_id} onChange={(e) => setEditForm(prev => ({ ...prev, class_id: e.target.value }))} disabled={!editForm.major_id}>\n                        <option value=\"\">请选择班级</option>\n                        {classes.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}\n                      </select>\n                    </div>\n                    <div className=\"form-group\">\n                      <label>重置密码（可选）：</label>\n                      <input type=\"password\" value={editForm.new_password} onChange={(e) => setEditForm(prev => ({ ...prev, new_password: e.target.value }))} />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"modal-footer\">\n                  <button className=\"secondary-btn\" onClick={handleCancelEditStudent}>取消</button>\n                  <button className=\"submit-btn\" onClick={handleSaveStudent} disabled={loading}>{loading ? '保存中...' : '保存'}</button>\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n      {activeTab === 'problems' && renderProblemsTab()}\n      {activeTab === 'courses' && renderCoursesTab()}\n    </div>\n  );\n};\n\nexport default TeacherDashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}